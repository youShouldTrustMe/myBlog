<!doctype html>
<html
  lang="zh-cn" 
  
    data-theme-mode="auto"
  
>
  <head><script src="/youShouldTrustMe/youShouldTrustMe.github.io/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=youShouldTrustMe/youShouldTrustMe.github.io/livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/>







  

<title>
   | TrustMe
</title>
<meta
  name="description"
  content="你要信我啊"
/>










<script>
  window.siteConfig = JSON.parse("{\"anchor_icon\":null,\"clipboard\":{\"copyright\":{\"content\":\"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！\",\"count\":50,\"enable\":false},\"fail\":\"复制失败 (ﾟ⊿ﾟ)ﾂ\",\"success\":\"复制成功(*^▽^*)\"},\"code_block\":{\"expand\":true},\"icon_font\":\"4552607_0khxww3tj3q9\",\"outdate\":{\"daysago\":180,\"enable\":false,\"message\":\"本文最后更新于 {time}，请注意文中内容可能已经发生变化。\"}}");
</script>











  
  
  
    
  

  
  
  
    
  

  
    

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  rel="preload"
  as="style"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
  media="print"
  onload="this.media='all'"
/>






  <link
    rel="preload"
    href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  />



  






 <link rel="stylesheet" href="/youShouldTrustMe/youShouldTrustMe.github.io/css/loader.css" />




  <meta property="og:type" content="website" />
  <meta property="og:title" content=" | TrustMe" />
  <meta
    property="og:description"
    content="你要信我啊"
  />
  <meta property="og:url" content="http://localhost:1313/youShouldTrustMe/youShouldTrustMe.github.io/post/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%A0%A1%E9%AA%8C/" />
  <meta
    property="og:site_name"
    content="TruestMe&#39;s Blog"
  />
  <meta
    property="og:image"
    content="/youShouldTrustMe/youShouldTrustMe.github.io/"
  />
  <meta property="article:author" content="TrustMe" />
  <meta property="article:published_time" content="0001-01-01T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="0001-01-01T00:00:00&#43;00:00" />
  
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="/youShouldTrustMe/youShouldTrustMe.github.io/" />
  
  
  
  
  




<link rel="shortcut icon" href="/youShouldTrustMe/youShouldTrustMe.github.io/favicon.ico">







 <link rel="stylesheet" href="/youShouldTrustMe/youShouldTrustMe.github.io/css/main.css" />





  <link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css"
    onload="this.onload=null;this.rel='stylesheet'"
  />






  <link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css"
    onload="this.onload=null;this.rel='stylesheet'"
  />








  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js"
    
    
    
    
    integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"
  ></script>





  


  <link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css" />





  </head>
  <body>
    
  <div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi">
        
          <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
            <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="#ff5252" />
            <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
          M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="#ff5252" />
          </svg>
        
      </div>
      <div class="loading-word">你要信我啊...</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script>


<div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>


    <div id="container">
      <div id="wrap">
        
<div id="header-nav">
  <nav id="main-nav">
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>
          
            
              &#xe62b;
            
          
        </div>
        <a class="main-nav-link" href="/youShouldTrustMe/youShouldTrustMe.github.io/">首页</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>
          
            
              &#xe62b;
            
          
        </div>
        <a class="main-nav-link" href="/youShouldTrustMe/youShouldTrustMe.github.io/archives">归档</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>
          
            
              &#xe62b;
            
          
        </div>
        <a class="main-nav-link" href="/youShouldTrustMe/youShouldTrustMe.github.io/about">关于</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>
          
            
              &#xe62b;
            
          
        </div>
        <a class="main-nav-link" href="/youShouldTrustMe/youShouldTrustMe.github.io/friend">友链</a>
      </span>
    
    <a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav">
    
    
  </nav>
</div>
<header id="header">
  
    <picture>
      
    </picture>
    
      <img fetchpriority="high" src="/youShouldTrustMe/youShouldTrustMe.github.io/images/background.jpg" alt="">
    
  

  <div id="header-outer">
    <div id="header-title">
      
        
        
          
        
  
        
          <a href="/youShouldTrustMe/youShouldTrustMe.github.io/" id="logo">
            <h1 data-aos="slide-up">TruestMe&#39;s Blog</h1>
          </a>
        
      
  
      
        
        
        <h2 id="subtitle-wrap" data-aos="slide-down">
          
        </h2>
      
    </div>
  </div>
</header>
        <div id="content"
          
          class="sidebar-right"  >
          <aside id="sidebar">
  
  
  <div class="sidebar-wrapper wrap-sticky">
    <div
      class="sidebar-wrap"
      data-aos="fade-up"
    >
      
        <div class="sidebar-toc-sidebar">
          <div class="sidebar-toc">
  <h3 class="toc-title">文章目录</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#参考链接">参考链接</a></li>
    <li><a href="#原理及步骤">原理及步骤</a></li>
    <li><a href="#栗子">栗子</a></li>
  </ul>

  <ul>
    <li><a href="#参考链接-1">参考链接</a></li>
    <li><a href="#简介">简介</a></li>
    <li><a href="#原理">原理</a></li>
    <li><a href="#栗子-1">栗子</a></li>
  </ul>

  <ul>
    <li><a href="#参考链接-2">参考链接</a></li>
    <li><a href="#md5摘要算法">MD5摘要算法</a></li>
    <li><a href="#sha256校验">SHA256校验</a>
      <ul>
        <li><a href="#常量初始化">常量初始化</a></li>
        <li><a href="#信息预处理">信息预处理</a></li>
        <li><a href="#逻辑运算">逻辑运算</a></li>
        <li><a href="#开始计算">开始计算</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#参考链接-3">参考链接</a></li>
    <li><a href="#基本原理">基本原理</a></li>
    <li><a href="#奇偶校验在同步与异步传输中的应用">奇偶校验在同步与异步传输中的应用</a></li>
    <li><a href="#栗子-2">栗子</a>
      <ul>
        <li><a href="#偶校验">偶校验</a></li>
        <li><a href="#奇校验">奇校验</a></li>
        <li><a href="#校验过程">校验过程</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#参考链接-4">参考链接</a></li>
    <li><a href="#基本原理-1">基本原理</a></li>
    <li><a href="#栗子-3">栗子</a></li>
  </ul>
</nav>
  </div>
</div>
        </div>
        <div class="sidebar-common-sidebar hidden">
          
<div class="sidebar-author">
  <img
    data-src="/youShouldTrustMe/youShouldTrustMe.github.io/avatar/avatar.webp"
    data-sizes="auto"
    alt="TrustMe"
    class="lazyload"
  />
  <div class="sidebar-author-name">TrustMe</div>
  <div class="sidebar-description">你要信我啊</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>文章</div>
    
    <div class="sidebar-state-number">60</div>
  </div>
  <div class="sidebar-state-category">
    <div>分类</div>
    <div class="sidebar-state-number">
      0
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>标签</div>
    <div class="sidebar-state-number">0</div>
  </div>
</div>
<div class="sidebar-social">
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/"
        aria-label="首页"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">首页</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/archives"
        aria-label="归档"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">归档</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/about"
        aria-label="关于"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">关于</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/friend"
        aria-label="友链"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">友链</div>
    </div>
  
</div>

        </div>
      

      
        <div class="sidebar-btn-wrapper" style="position:static">
          <div class="sidebar-toc-btn current"></div>
          <div class="sidebar-common-btn"></div>
        </div>
      
    </div>
  </div>

  <div class="sidebar-widget">
    
  </div>
</aside>

          <section id="main">
  <article
  class="h-entry article"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <div
    class="article-inner"
    data-aos="fade-up"
  >
    <div class="article-meta">
      <div class="article-date">
  <span
    class="article-date-link"
    data-aos="zoom-in"
  >
    <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished"
      >0001-01-01</time
    >
    <time style="display: none;" id="post-update-time"
      >0001-01-01</time
    >
  </span>
</div>

      <div class="article-category">
  
</div>

    </div>
    <div class="hr-line"></div>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
      
        <h1 id="校验和-checksum">
<a class="header-anchor" href="#%e6%a0%a1%e9%aa%8c%e5%92%8c-checksum"></a>
校验和 (Checksum)
</h1><h2 id="参考链接">
<a class="header-anchor" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5"></a>
参考链接
</h2><p><a href="https://www.cnblogs.com/pikacq/p/18408076">CheckSum算法&ndash;又名累加和校验算法 - 皮卡成球 - 博客园</a></p>
<h2 id="原理及步骤">
<a class="header-anchor" href="#%e5%8e%9f%e7%90%86%e5%8f%8a%e6%ad%a5%e9%aa%a4"></a>
原理及步骤
</h2><p>**校验和（Checksum）**是网络协议使用的数据错误检测方法，并且被认为比LRC（纵向冗余校验，Longitudinal Redundancy Check，LRC），VRC和CRC（循环冗余校验（Cyclic Redundancy Codes，CRC））更可靠。此方法在发送方使用校验和生成器，在接收方使用校验和校验器。</p>
<p><strong>累加和校验算法的实现</strong></p>
<blockquote>
<p><em><code>发送</code>方</em>：对要数据累加，得到一个数据和，对和求反，即得到我们的校验值。然后把要发的数据和这个校验值一起发送给接收方。</p>
<p><em><code>接受</code>方</em>：对接收的数据（包括校验和）进行累加，然后加1，如果得到0，那么说明数据没有出现传输错误。</p>
<blockquote>
<p>注意，此处发送方和接收方用于保存累加结果的类型一定要一致，否则加1就无法实现溢出从而无法得到0，校验就会无效。</p></blockquote></blockquote>
<p><strong>步骤</strong>：</p>
<ol>
<li>校验数据以16bit为单位进行累加求和，校验数据需为偶字节数（不然无法以16bit为累加单位），奇字节数末尾填充0变为偶字节数；</li>
<li>累加和超过16bit，产生进位，将进位当作高16bit，其他数为低16bit，进行相加；</li>
<li>循环步骤2，直到没有进位产生为止，得到sum值</li>
<li>累加和取反得到校验和，即checksum值，存入数据的checksum字段即可。</li>
</ol>
<blockquote>
<p>[!important]</p>
<p>CheckSum取反主要原理是：</p>
<p>==原码+反码+1 = 0==</p></blockquote>
<h2 id="栗子">
<a class="header-anchor" href="#%e6%a0%97%e5%ad%90"></a>
栗子
</h2><blockquote>
<p>八位保存累加和：</p>
<p>需要发送数据(8bit 2进制)： 10101001 00111001 00001010</p>
<ol>
<li><code>奇字节补0:10101001 00111001 00001010 00000000</code></li>
<li><code>10101001 + 00111001 + 00001010 + 00000000 = 11101100(sum值)</code></li>
<li><code>~11101100 = 00010011(checksum值)</code></li>
<li>所以发送的数据就是： 10101001 00111001 00001010 00010011</li>
<li>接收方接收到的数据是： 10101001 00111001 00001010 00010011</li>
<li><code>10101001 + 00111001 + 00001010 + 00010011 = 11111111(sum值)</code></li>
<li><code>~11111111 = 00000000(结果是0，校验完成，没有错误)</code></li>
</ol></blockquote>
<blockquote>
<p>十六位保存累加和：</p>
<p>需要发送的数据(16bit 16进制)： 1234 003c 1c46 4000 4006 &lsquo;<strong>checksum</strong>&rsquo; ac00 0a63 ac10 0a0c</p>
<p>根据原始数据计算出checksum（至于checksum段的位置，我想可能是自定义的，在哪都不影响）， 才是发送出去的完成数据</p>
<ol>
<li><code>先将checksum段置0，1234 003c 1c46 4000 4006 0000 ac00 0a63 ac10 0a0c</code></li>
<li><code>sum = 1234 + 003c + 1c46 + 4000 + 4006 + 0000 + ac00 + 0a63 + ac10 + 0a0c = 21b3b (进位加到低16bit末尾)</code></li>
<li><code>checksum = ~1b3d = e4c2(即checksum值)</code></li>
<li>所以发送方发送的数据为：1234 003c 1c46 4000 4006 e4c2 ac00 0a63 ac10 0a0c（补全 cehcksum字段）</li>
<li><code>sum = 1234 + 003c + 1c46 + 4000 + 4006 + e4c2 + ac00 + 0a63 + ac10 + 0a0c = 2fffd(再回加)</code></li>
<li><code>checksum = ~ffff=0000</code></li>
<li>接收方checksum=0，校验成功</li>
</ol></blockquote>
<p><strong>示例代码：</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">uint8_t</span> <span class="nf">TX_CheckSum</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">len</span><span class="p">)</span> <span class="c1">//buf为数组，len为数组长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">uint8_t</span> <span class="n">i</span><span class="p">,</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">+=</span> <span class="o">*</span><span class="p">(</span><span class="n">buf</span><span class="o">++</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="n">ret</span> <span class="o">=</span> <span class="o">~</span><span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">uint8_t</span> <span class="nf">RX_CheckSum</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">len</span><span class="p">)</span> <span class="c1">//buf为数组，len为数组长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">uint8_t</span> <span class="n">i</span><span class="p">,</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">+=</span> <span class="o">*</span><span class="p">(</span><span class="n">buf</span><span class="o">++</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ret</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h1 id="循环冗余校验-crc">
<a class="header-anchor" href="#%e5%be%aa%e7%8e%af%e5%86%97%e4%bd%99%e6%a0%a1%e9%aa%8c-crc"></a>
循环冗余校验 (CRC)
</h1><h2 id="参考链接-1">
<a class="header-anchor" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5-1"></a>
参考链接
</h2><p><a href="https://info.support.huawei.com/info-finder/encyclopedia/zh/CRC.html">什么是CRC（Cyclic Redundancy Check）？如何解决CRC错误？ - 华为 (huawei.com)</a></p>
<p><a href="https://zh.wikipedia.org/wiki/%E5%BE%AA%E7%92%B0%E5%86%97%E9%A4%98%E6%A0%A1%E9%A9%97">循环冗余校验 - 维基百科，自由的百科全书 (wikipedia.org)</a></p>
<h2 id="简介">
<a class="header-anchor" href="#%e7%ae%80%e4%bb%8b"></a>
简介
</h2><p>循环冗余校验CRC（Cyclic Redundancy Check）是数据通信领域常用的一种数据传输检错技术。通过在发送端对数据按照某种算法计算出校验码，并将得到的校验码附在数据帧的后面，一起发送到接收端。接收端对收到的数据和校验码按照相同算法进行验证，以此判断接收到的数据是否正确、完整。</p>
<h2 id="原理">
<a class="header-anchor" href="#%e5%8e%9f%e7%90%86"></a>
原理
</h2><p>CRC的思想就是先在要发送的K比特长度的数据后面附加一个R比特长度的校验码，然后生成一个新帧发送给接收端。接收端接收到新帧后，根据收到的数据和校验码来验证接收到的数据是否正确。</p>
<p><img src="https://download.huawei.com/mdl/image/download?uuid=318d36eb8dc64b1dabc6626dfc958b91" alt="数据&#43;校验码示例"></p>
<p>当然，==这个附加的校验码不是随意添加的==，要使所生成的新帧能与发送端和接收端共同选定的某个特定数整除（“模2除法”）。接收端把接收到的新帧除以这个选定的除数。因为在发送数据帧之前就已通过附加一个数，做了“去余”处理（也就已经能整除了），所以结果应该是没有余数。如果有余数，则表明该帧在传输过程中出现了差错。</p>
<blockquote>
<p>[!important]</p>
<p>原始数据 + 余数 = 2的倍数</p>
<p>所以说如果接收到的数据对2取余不为0，说明传输有问题</p></blockquote>
<p>在K比特数据后面再拼接R比特的校验码，整个编码长度为N比特，这种编码也叫==(N,K)码==。对于一个给定的(N,K)码，可以证明存在一个最高次幂为N-K=R的多项式g(x)，根据g(x)可以生成R比特的校验码。其算法是以GF(2)多项式算术为数学基础的。</p>
<blockquote>
<p>[!TIP]</p>
<p>CRC 是一种基于多项式的错误检测方法。数据被视为一个多项式，通过特定的生成多项式进行除法运算，余数即为 CRC 值。</p>
<p>==也就是说除数是一个多项式的系数组成的数值，将原始数据（被除数）+ 余数 = 多项式系数的倍数==</p>
$$
> {\displaystyle (x^{3}+x)+(x+1)=x^{3}+2x+1\equiv x^{3}+1}
> $$$$
> {\displaystyle (x^{2}+x)(x+1)=x^{3}+2x^{2}+x\equiv x^{3}+x}
> $$$$
> {\displaystyle {\frac {(x^{3}+x^{2}+x)}{(x+1)}}=(x^{2}+1)-{\frac {1}{(x+1)}}}
> $$$$
> {\displaystyle (x^{3}+x^{2}+x)=(x^{2}+1)(x+1)-1}
> $$$$
> {\displaystyle (x^{2}+x+1)x=(x^{2}+1)(x+1)-1}
> $$<p>
这里除法得到了商$x^2 + 1$和余数-1，因为是奇数所以最后一位是1。</p>
<p>字符串中的每一位其实就对应了这样类型的多项式的系数。为了得到CRC，首先将其乘以$x^n$，这里$n$是一个固定多项式的**<a href="https://zh.wikipedia.org/w/index.php?title=%e5%a4%9a%e9%a0%85%e5%bc%8f%e7%9a%84%e9%9a%8e&amp;action=edit&amp;redlink=1">阶数</a>**，然后再将其除以这个固定的多项式，余数的系数就是CRC。</p>
<p>在上面的等式中，$x^2+x+1$表示了本来的信息位是<code>111</code>, $x+1$是所谓的<strong>钥匙</strong>，而余数1（也就是$x^0$）就是CRC，key的最高次为1,所以将原来的信息乘上$x^1$来得到$x^3+x^2+x$，也可视为原来的信息位补1个零成为<code>1110</code>。</p>
$$
> {\displaystyle M(x)\cdot x^{n}=Q(x)\cdot K(x)-R(x)}
> $$<p>
这里M(x)是原始的信息多项式。K(x)是$n$阶的“钥匙”多项式。$𝑀(𝑥)⋅𝑥^𝑛$表示了将原始信息后面加上$n$个0。$R(x)$是余数多项式，即是==CRC“校验和”==。在通信中，发送者在原始的信息数据$M$后附加上$𝑛$位的$R$（替换本来附加的0）再发送。接收者收到M和R后，检查$𝑀(𝑥)⋅𝑥^𝑛+𝑅(𝑥)$是否能被$𝐾(𝑥)$整除。如果是，那么接收者认为该信息是正确的。值得注意的是$𝑀(𝑥)⋅𝑥^𝑛+𝑅(𝑥)$就是发送者所想要发送的数据。这个串又叫做<em>codeword</em>.</p></blockquote>
<table>
  <thead>
      <tr>
          <th style="text-align: center">名称</th>
          <th style="text-align: center">多项式</th>
          <th style="text-align: center">表示法：正常或者翻转</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">CRC-1</td>
          <td style="text-align: center">${\displaystyle x+1}$（用途：硬件，也称为<a href="https://zh.wikipedia.org/wiki/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E4%BD%8D">奇偶校验位</a>)</td>
          <td style="text-align: center">0x1 or 0x1 (0x1)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-5-CCITT</td>
          <td style="text-align: center">${\displaystyle x^{5}+x^{3}+x+1}$（<a href="https://zh.wikipedia.org/wiki/ITU">ITU</a> G.704标准)</td>
          <td style="text-align: center">0xB（0x??）</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-5-USB</td>
          <td style="text-align: center">${\displaystyle x^{5}+x^{2}+1}$（用途：<a href="https://zh.wikipedia.org/wiki/USB">USB</a>信令包)</td>
          <td style="text-align: center">0x5 or 0x14 (0x9)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-7</td>
          <td style="text-align: center">${\displaystyle x^{7}+x^{3}+1}$（用途：通信系统)</td>
          <td style="text-align: center">0x9 or 0x48 (0x11)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-8-ATM</td>
          <td style="text-align: center">${\displaystyle x^{8}+x^{2}+x+1}$（用途：ATM HEC, PMBUS （参见SMBUS org[<a href="http://smbus.org/faq/crc8Applet.htm">1]</a> （<a href="https://web.archive.org/web/20220328104435/http://smbus.org/faq/crc8Applet.htm">页面存档备份</a>，存于<a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%A1%A3%E6%A1%88%E9%A6%86">互联网档案馆</a>））)</td>
          <td style="text-align: center">0x7或0xE0 (0xC1)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-8-<a href="https://zh.wikipedia.org/wiki/CCITT">CCITT</a></td>
          <td style="text-align: center">${\displaystyle x^{8}+x^{7}+x^{3}+x^{2}+1}$（用途：<a href="https://zh.wikipedia.org/wiki/1-Wire">1-Wire</a> <a href="https://zh.wikipedia.org/wiki/%E7%B8%BD%E7%B7%9A">总线</a>)</td>
          <td style="text-align: center">0x8D</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-8-<a href="https://zh.wikipedia.org/w/index.php?title=Dallas_Semiconductor&amp;action=edit&amp;redlink=1">Dallas</a>/<a href="https://zh.wikipedia.org/w/index.php?title=Maxim_IC&amp;action=edit&amp;redlink=1">Maxim</a></td>
          <td style="text-align: center">${\displaystyle x^{8}+x^{5}+x^{4}+1}$（用途：<a href="https://zh.wikipedia.org/wiki/1-Wire">1-Wire</a> <a href="https://zh.wikipedia.org/wiki/Bus">bus</a>)</td>
          <td style="text-align: center">0x31或0x8C</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-8</td>
          <td style="text-align: center">${\displaystyle x^{8}+x^{7}+x^{6}+x^{4}+x^{2}+1}$</td>
          <td style="text-align: center">0xD5（0x??）</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-10</td>
          <td style="text-align: center">${\displaystyle x^{10}+x^{9}+x^{5}+x^{4}+x+1}$</td>
          <td style="text-align: center">0x233（0x????）</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-12</td>
          <td style="text-align: center">${\displaystyle x^{12}+x^{11}+x^{3}+x^{2}+x+1}$（用途：通信系统)</td>
          <td style="text-align: center">0x80F或0xF01 (0xE03)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-16-Fletcher</td>
          <td style="text-align: center">参见<a href="https://zh.wikipedia.org/w/index.php?title=Fletcher%27s_checksum&amp;action=edit&amp;redlink=1">Fletcher&rsquo;s checksum</a></td>
          <td style="text-align: center">用于<a href="https://zh.wikipedia.org/wiki/Adler-32">Adler-32</a> A &amp; B CRC</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-16-CCITT</td>
          <td style="text-align: center">${\displaystyle x^{16}+x^{12}+x^{5}+1}$（<a href="https://zh.wikipedia.org/w/index.php?title=X25&amp;action=edit&amp;redlink=1">X25</a>, <a href="https://zh.wikipedia.org/w/index.php?title=V.41&amp;action=edit&amp;redlink=1">V.41</a>, <a href="https://zh.wikipedia.org/wiki/Bluetooth">Bluetooth</a>, <a href="https://zh.wikipedia.org/wiki/PPP">PPP</a>, <a href="https://zh.wikipedia.org/w/index.php?title=IrDA&amp;action=edit&amp;redlink=1">IrDA</a>)</td>
          <td style="text-align: center">0x1021或0x8408 (0x0811)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-16-<a href="https://zh.wikipedia.org/wiki/IBM">IBM</a></td>
          <td style="text-align: center">${\displaystyle x^{16}+x^{15}+x^{2}+1}$（用途：<a href="https://zh.wikipedia.org/wiki/Modbus">Modbus）</a></td>
          <td style="text-align: center">0x8005或0xA001 (0x4003)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-16-<a href="https://zh.wikipedia.org/wiki/BBS">BBS</a></td>
          <td style="text-align: center">${\displaystyle x^{16}+x^{15}+x^{10}+x^{3}}+1$（用途：<a href="https://zh.wikipedia.org/w/index.php?title=XMODEM&amp;action=edit&amp;redlink=1">XMODEM</a>协议)</td>
          <td style="text-align: center">0x8408（0x????）</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-32-Adler</td>
          <td style="text-align: center">参见<a href="https://zh.wikipedia.org/wiki/Adler-32">Adler-32</a></td>
          <td style="text-align: center">参见<a href="https://zh.wikipedia.org/wiki/Adler-32">Adler-32</a></td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-32-MPEG2</td>
          <td style="text-align: center">参见<a href="https://zh.wikipedia.org/wiki/IEEE_802.3">IEEE 802.3</a></td>
          <td style="text-align: center">参见<a href="https://zh.wikipedia.org/wiki/IEEE_802.3">IEEE 802.3</a></td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-32-<a href="https://zh.wikipedia.org/wiki/IEEE_802.3">IEEE 802.3</a></td>
          <td style="text-align: center">${\displaystyle x^{32}+x^{26}+x^{23}+x^{22}+x^{16}+x^{12}+x^{11}+x^{10}+x^{8}+x^{7}+x^{5}+x^{4}+x^{2}+x+1}$</td>
          <td style="text-align: center">0x04C11DB7或0xEDB88320 (0xDB710641)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-32C(Castagnoli)</td>
          <td style="text-align: center">${\displaystyle x^{32}+x^{28}+x^{27}+x^{26}+x^{25}+x^{23}+x^{22}+x^{20}+x^{19}+x^{18}+x^{14}+x^{13}+x^{11}+x^{10}+x^{9}+x^{8}+x^{6}+1}$</td>
          <td style="text-align: center">0x1EDC6F41或0x82F63B78 (0x05EC76F1)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-64-ISO</td>
          <td style="text-align: center">${\displaystyle x^{64}+x^{4}+x^{3}+x+1}$ （用途: ISO 3309)</td>
          <td style="text-align: center">0x000000000000001B或0xD800000000000000 (0xB000000000000001)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-64-<a href="https://zh.wikipedia.org/wiki/Ecma_International">ECMA</a>-182</td>
          <td style="text-align: center">${\displaystyle x^{64}+x^{62}+x^{57}+x^{55}+x^{54}+x^{53}+x^{52}+x^{47}+x^{46}+x^{45}+x^{40}+x^{39}+x^{38}+x^{37}+x^{35}+x^{33}+x^{32}}+$ ${\displaystyle +x^{31}+x^{29}+x^{27}+x^{24}+x^{23}+x^{22}+x^{21}+x^{19}+x^{17}+x^{13}+x^{12}+x^{10}+x^{9}+x^{7}+x^{4}+x+1}$（参见<a href="http://www.ecma-international.org/publications/standards/Ecma-182.htm">ECMA-182</a> （<a href="https://web.archive.org/web/20200731173949/http://www.ecma-international.org/publications/standards/Ecma-182.htm">页面存档备份</a>，存于<a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%A1%A3%E6%A1%88%E9%A6%86">互联网档案馆</a>） p.63)</td>
          <td style="text-align: center">0x42F0E1EBA9EA3693或0xC96C5795D7870F42 (0x92D8AF2BAF0E1E85)</td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-128</td>
          <td style="text-align: center">IEEE-ITU标准。被<a href="https://zh.wikipedia.org/wiki/MD5">MD5</a> &amp; <a href="https://zh.wikipedia.org/wiki/SHA-1">SHA-1</a>取代</td>
          <td style="text-align: center"></td>
      </tr>
      <tr>
          <td style="text-align: center">CRC-160</td>
          <td style="text-align: center">IEEE-ITU标准。被<a href="https://zh.wikipedia.org/wiki/MD5">MD5</a> &amp; <a href="https://zh.wikipedia.org/wiki/SHA-1">SHA-1</a>取代</td>
          <td style="text-align: center"></td>
      </tr>
  </tbody>
</table>
<p>这些多项式的值便是==模2除法的除数==。而根据这个除数获得校验码并进行校验的原理可以分为以下几个步骤：</p>
<ol>
<li>发送端、接收端在通信前，约定好除数P，也就是前面说的多项式的值。P应该是R+1位长度；</li>
<li>发送端首先在原来的K位数据后面加R个0，相当于原来的数据左移了R位；</li>
<li>然后进行模2除法运算（其实就是异或XOR运算），将加0之后的K+R位的数除以P，循环计算，直到余数的阶数小于R，这个余数就是附加的校验码，如果长度不足R位需要在前面加0补齐；</li>
<li>发送端将R位校验码附加在原数据后面发送给接收方；</li>
<li>接收方接收到数据后，将数据以模2除法方式除以除数P。如果没有余数，说明在传输过程中没有出现错误，否则说明有错误。</li>
</ol>
<h2 id="栗子-1">
<a class="header-anchor" href="#%e6%a0%97%e5%ad%90-1"></a>
栗子
</h2><p>以g(x)为$CRC-4=x^{4}+x+1$为例，此时除数P=10011。假设源数据M为10110011。</p>
<p>在发送端将M左移4位，然后除以P。</p>
<p><img src="https://download.huawei.com/mdl/image/download?uuid=e0ffb1aa886f489e8b0c8d33f60594b7" alt="发送端CRC计算示例"></p>
<p>==计算得到的余数就是<strong>0100</strong>，也就是CRC校验码==。将<strong>0100</strong>附加到原始数据帧10110011后，组成新帧10110011<strong>0100</strong>发送给接收端。接收端接收到该帧后，会用该帧去除以上面选定的除数P，验证余数是否为0，如果为0，则表示数据在传输过程中没有出现差错。</p>
<p><img src="https://download.huawei.com/mdl/image/download?uuid=7a26a1a18fcf4b9da540df869b56a15c" alt="接收端CRC校验示例"></p>
<p><strong>示例代码：</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">crc32</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">crc</span> <span class="o">=</span> <span class="mh">0xFFFFFFFF</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">crc</span> <span class="o">^=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">crc</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">crc</span> <span class="o">=</span> <span class="p">(</span><span class="n">crc</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">^</span> <span class="mh">0xEDB88320</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">crc</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="o">~</span><span class="n">crc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">data</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">crc</span> <span class="o">=</span> <span class="nf">crc32</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">data</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;CRC32: %08X</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">crc</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote>
<p>[!IMPORTANT]</p>
<p>异或操作：</p>
<p>当对一个数据进行两次异或时就可以得到数据本身</p></blockquote>
<h1 id="哈希校验-hash-check">
<a class="header-anchor" href="#%e5%93%88%e5%b8%8c%e6%a0%a1%e9%aa%8c-hash-check"></a>
哈希校验 (Hash Check)
</h1><h2 id="参考链接-2">
<a class="header-anchor" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5-2"></a>
参考链接
</h2><p><a href="https://blog.csdn.net/zhuoxiuwu/article/details/103070144">【数据加解密】MD5检验算法的原理及实现_md5校验原理-CSDN博客</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/37257569">MD5算法 - 知乎</a></p>
<p><a href="https://blog.csdn.net/u011583927/article/details/80905740">SHA256算法原理详解-CSDN博客</a></p>
<p><a href="https://zh.wikipedia.org/wiki/SHA-2">SHA-2 - 维基百科，自由的百科全书 (wikipedia.org)</a></p>
<h2 id="md5摘要算法">
<a class="header-anchor" href="#md5%e6%91%98%e8%a6%81%e7%ae%97%e6%b3%95"></a>
MD5摘要算法
</h2><p>我们首先假设有一个 b 个bit的数据作为输入，然后我们希望根据某种规则计算出它的信息摘要。这里b是任意大小的数据，也不需要是8bit的倍数。 我们假设数据的字节如下:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">m_0 m_1 …  m_{b-1}
</span></span></code></pre></div><p>现在要生成MD5码要经过以下步骤:</p>
<ol>
<li>
<p>填充位</p>
<p>输入数据首先被&quot;填充&quot;(拓展)，以保证它的长度%512 = 448。 在信息的后面填充一个1和无数个0，直到满足上面的条件时才停止用0对信息的填充。</p>
</li>
<li>
<p>追加消息长度信息</p>
<p>追加一个64位的数据，该数据表示b的长度（步骤1填充之后的），如果b的长度大于$2^{64}$，那么只使用该长度值二进制表示的低64位（比如如果长度是0x82a89c7434,则只使用0xa89c7434）。</p>
<p>追加长度信息后，此时数据的长度是 512的倍数，并且也是16的倍数。经过这两步的处理，信息的位长=N * 512+448+64=(N+1）*512，即长度恰好是512的整数倍。这样做的原因是为满足后面处理中对信息长度的要求。</p>
</li>
<li>
<p>初始化MD buffer</p>
<p>创建一个128位的 buffer (A、B、C、D)用于计算消息摘要。这里的A、B、C、D都是32位寄存器。这些寄存器初始化为以下十六进制低阶字节的值
word A: 01 23 45 67
word B: 89 ab cd ef
word C: fe dc ba 98
word D: 76 54 32 10
在程序中表示为</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">var</span> <span class="kt">int</span> <span class="nl">h0</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x67452301</span>
</span></span><span class="line"><span class="cl"><span class="n">var</span> <span class="kt">int</span> <span class="nl">h1</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0xEFCDAB89</span>
</span></span><span class="line"><span class="cl"><span class="n">var</span> <span class="kt">int</span> <span class="nl">h2</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x98BADCFE</span>
</span></span><span class="line"><span class="cl"><span class="n">var</span> <span class="kt">int</span> <span class="nl">h3</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x10325476</span>
</span></span></code></pre></div></li>
<li>
<p>处理分组数据</p>
<p>将步骤2处理完的数据的一包（512bit）数据划分为16组，每组数据为32位（$32 \times 16 = 512$），处理过程如下：</p>
<ol>
<li>主循环有四轮（MD4只有三轮），每轮循环执行16次非线性函数（循环16次遍历完成一包数据）。</li>
<li>每次操作对a、b、c和d中的其中三个作一次非线性函数运算，然后将所得结果加上第四个变量，再加上划分好的一组数据和一个常数。最后将所得结果向左循环左移一个不定的数，并加上a、b、c或d中之一。最后用该结果取代a、b、c或d中之一。</li>
</ol>
<p>以下是每次操作中用到的四个非线性函数（每轮一个）
**F(X,Y,Z) **= ( X &amp; Y ) | ( ( ~X ) &amp; Z )
<strong>G(X,Y,Z)</strong> = ( X &amp; Z ) | ( Y &amp; ( ~Z ) )
**H(X,Y,Z) **= X^ Y ^ Z
**I(X,Y,Z) **= Y^( X | ( ~Z ) )</p>
<blockquote>
<p>[!tip]</p>
<p>其中，&amp;是与（And），|是或（Or），~是非（Not），^是异或（Xor</p>
<p>如果X、Y和Z的对应位是独立和均匀的，那么结果的每一位也应是独立和均匀的。</p>
<p>F是一个逐位运算的函数。即，如果X，那么Y，否则Z。函数H是逐位奇偶操作符。</p></blockquote>
<p>假设M[j]表示加密数据的第j组（从0到15），常数$ti$是$4294967296*abs( sin(i))$的整数部分，i 取值从1到64，单位是弧度。（$4294967296=2^{32}$）</p>
$$
   FF(a ,b ,c ,d ,Mj ,s ,ti) :操作为 a = b + ( (a + F(b,c,d) + Mj + ti) << s)\\
   GG(a ,b ,c ,d ,Mj ,s ,ti) :操作为 a = b + ( (a + G(b,c,d) + Mj + ti) << s)\\
   HH(a ,b ,c ,d ,Mj ,s ,ti) :操作为 a = b + ( (a + H(b,c,d) + Mj + ti) << s)\\
   II(a ,b ,c ,d ,Mj ,s ,ti) :操作为 a = b + ( (a + I(b,c,d) + Mj + ti) << s)\\
   $$<blockquote>
<p>[!tip]</p>
<p>需要注意的是：这里的&laquo;是循环左移</p></blockquote>
<p>那么四轮六十四步开始（一轮十六步）：</p>
<ol>
<li>
$$
      FF(a ,b ,c ,d ,M[0],7 ,0xd76aa478 )\\
      FF(d ,a ,b ,c ,M[1] ,12 ,0xe8c7b756 )\\
      FF(c ,d ,a ,b ,M[2] ,17 ,0x242070db )\\
      FF(b ,c ,d ,a ,M[3] ,22 ,0xc1bdceee )\\
      FF(a ,b ,c ,d ,M[4] ,7 ,0xf57c0faf )\\
      FF(d ,a ,b ,c ,M[5] ,12 ,0x4787c62a )\\
      FF(c ,d ,a ,b ,M[6] ,17 ,0xa8304613 )\\
      FF(b ,c ,d ,a ,M[7] ,22 ,0xfd469501)\\
      FF(a ,b ,c ,d ,M[8] ,7 ,0x698098d8 )\\
      FF(d ,a ,b ,c ,M[9] ,12 ,0x8b44f7af )\\
      FF(c ,d ,a ,b ,M[10] ,17 ,0xffff5bb1 )\\
      FF(b ,c ,d ,a ,M[11] ,22 ,0x895cd7be )\\
      FF(a ,b ,c ,d ,M[12] ,7 ,0x6b901122 )\\
      FF(d ,a ,b ,c ,M[13] ,12 ,0xfd987193 )\\
      FF(c ,d ,a ,b ,M[14] ,17 ,0xa679438e )\\
      FF(b ,c ,d ,a ,M[15] ,22 ,0x49b40821 )\\
      $$</li>
<li>
$$
      GG(a ,b ,c ,d ,M[1] ,5 ,0xf61e2562 )\\
      GG(c ,d ,a ,b ,M[11] ,14 ,0x265e5a51 )\\
      GG(b ,c ,d ,a ,M[0] ,20 ,0xe9b6c7aa )\\
      GG(a ,b ,c ,d ,M[5] ,5 ,0xd62f105d )\\
      GG(d ,a ,b ,c ,M[10] ,9 ,0x02441453 )\\
      GG(c ,d ,a ,b ,M[15] ,14 ,0xd8a1e681 )\\
      GG(b ,c ,d ,a ,M[4] ,20 ,0xe7d3fbc8 )\\
      GG(a ,b ,c ,d ,M[9] ,5 ,0x21e1cde6 )\\
      GG(d ,a ,b ,c ,M[14] ,9 ,0xc33707d6 )\\
      GG(c ,d ,a ,b ,M[3] ,14 ,0xf4d50d87 )\\
      GG(b ,c ,d ,a ,M[8] ,20 ,0x455a14ed )\\
      GG(a ,b ,c ,d ,M[13] ,5 ,0xa9e3e905 )\\
      GG(d ,a ,b ,c ,M[2] ,9 ,0xfcefa3f8 )\\
      GG(c ,d ,a ,b ,M[7] ,14 ,0x676f02d9 )\\
      GG(b ,c ,d ,a ,M[12] ,20 ,0x8d2a4c8a )
      $$</li>
<li>
$$
      HH(a ,b ,c ,d ,M[5] ,4 ,0xfffa3942 )\\
      HH(d ,a ,b ,c ,M[8] ,11 ,0x8771f681 )\\
      HH(c ,d ,a ,b ,M[11] ,16 ,0x6d9d6122 )\\
      HH(b ,c ,d ,a ,M[14] ,23 ,0xfde5380c )\\
      HH(a ,b ,c ,d ,M[1] ,4 ,0xa4beea44 )\\
      HH(d ,a ,b ,c ,M[4] ,11 ,0x4bdecfa9 )\\
      HH(c ,d ,a ,b ,M[7] ,16 ,0xf6bb4b60 )\\
      HH(b ,c ,d ,a ,M[10] ,23 ,0xbebfbc70 )\\
      HH(a ,b ,c ,d ,M[13] ,4 ,0x289b7ec6 )\\
      HH(d ,a ,b ,c ,M[0] ,11 ,0xeaa127fa )\\
      HH(c ,d ,a ,b ,M[3] ,16 ,0xd4ef3085 )\\
      HH(b ,c ,d ,a ,M[6] ,23 ,0x04881d05 )\\
      HH(a ,b ,c ,d ,M[9] ,4 ,0xd9d4d039 )\\
      HH(d ,a ,b ,c ,M[12] ,11 ,0xe6db99e5 )\\
      HH(c ,d ,a ,b ,M[15] ,16 ,0x1fa27cf8 )\\
      HH(b ,c ,d ,a ,M[2] ,23 ,0xc4ac5665 )\\
      $$</li>
<li>
$$
      II(a ,b ,c ,d ,M[0] ,6 ,0xf4292244 )\\
      II(d ,a ,b ,c ,M[7] ,10 ,0x432aff97 )\\
      II(c ,d ,a ,b ,M[14] ,15 ,0xab9423a7 )\\
      II(b ,c ,d ,a ,M[5] ,21 ,0xfc93a039 )\\
      II(a ,b ,c ,d ,M[12] ,6 ,0x655b59c3 )\\
      II(d ,a ,b ,c ,M[3] ,10 ,0x8f0ccc92 )\\
      II(c ,d ,a ,b ,M[10] ,15 ,0xffeff47d )\\
      II(b ,c ,d ,a ,M[1] ,21 ,0x85845dd1 )\\
      II(a ,b ,c ,d ,M[8] ,6 ,0x6fa87e4f )\\
      II(d ,a ,b ,c ,M[15] ,10 ,0xfe2ce6e0 )\\
      II(c ,d ,a ,b ,M[6] ,15 ,0xa3014314 )\\
      II(b ,c ,d ,a ,M[13] ,21 ,0x4e0811a1 )\\
      II(a ,b ,c ,d ,M[4] ,6 ,0xf7537e82 )\\
      II(d ,a ,b ,c ,M[11] ,10 ,0xbd3af235 )\\
      II(c ,d ,a ,b ,M[2] ,15 ,0x2ad7d2bb )\\
      II(b ,c ,d ,a ,M[9] ,21 ,0xeb86d391 )
      $$</li>
<li>
<p>循环过程为：</p>
<p><img src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/11/20_15_29_28_202411201529004.png" alt="循环过程"></p>
</li>
<li>
$$
      A=A+a\\
      B=B+b\\
      C=C+c\\
      D=D+d\\
      $$</li>
</ol>
</li>
<li>
<p>最终得到的校验值由ABCD拼成，其中A为最低位，D为最高位</p>
</li>
</ol>
<h2 id="sha256校验">
<a class="header-anchor" href="#sha256%e6%a0%a1%e9%aa%8c"></a>
SHA256校验
</h2><p>SHA256是SHA-2下细分出的一种算法，SHA-2，名称来自于安全散列算法2（Secure Hash Algorithm 2）的缩写，一种密码散列函数算法标准，由美国国家安全局研发，属于SHA算法之一，是SHA-1的后继者。</p>
<p>SHA-2下又可再分为六个不同的算法标准：</p>
<ol>
<li>SHA-224</li>
<li>SHA-256</li>
<li>SHA-384</li>
<li>SHA-512</li>
<li>SHA-512/224</li>
<li>SHA-512/256。</li>
</ol>
<p>这些变体除了生成摘要的长度 、循环运行的次数等一些微小差异外，算法的基本结构是一致的。</p>
<p>对于任意长度的消息，SHA256都会产生一个256bit长的哈希值，称作消息摘要。这个摘要相当于是个长度为32个字节的数组，通常用一个长度为64的十六进制字符串来表示。</p>
<p>算法主要包括了：</p>
<ol>
<li>常量的初始化</li>
<li>信息的预处理</li>
<li>逻辑运算</li>
</ol>
<h3 id="常量初始化">
<a class="header-anchor" href="#%e5%b8%b8%e9%87%8f%e5%88%9d%e5%a7%8b%e5%8c%96"></a>
常量初始化
</h3><p>SHA256算法中用到了8个哈希初值以及64个哈希常量</p>
<p>其中，SHA256算法的<strong>8个哈希初值</strong>如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nl">h0</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x6a09e667</span>
</span></span><span class="line"><span class="cl"><span class="nl">h1</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0xbb67ae85</span>
</span></span><span class="line"><span class="cl"><span class="nl">h2</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x3c6ef372</span>
</span></span><span class="line"><span class="cl"><span class="nl">h3</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0xa54ff53a</span>
</span></span><span class="line"><span class="cl"><span class="nl">h4</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x510e527f</span>
</span></span><span class="line"><span class="cl"><span class="nl">h5</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x9b05688c</span>
</span></span><span class="line"><span class="cl"><span class="nl">h6</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x1f83d9ab</span>
</span></span><span class="line"><span class="cl"><span class="nl">h7</span> <span class="p">:</span><span class="o">=</span> <span class="mh">0x5be0cd19</span>
</span></span></code></pre></div><p>这些初值是对自然数中前8个质数（2,3,5,7,11,13,17,19）的平方根的小数部分取前32bit而来</p>
<p>举个例子来说，$ \sqrt{2} $小数部分约为0.414213562373095048，而$0.414213562373095048 ≈ 6 ∗ 16^{-1} + a ∗ 16 ^ {-2} + 0 ∗ 16^{-3} + ...$</p>
<p>于是，质数2的平方根的小数部分取前32bit就对应出了0x6a09e667</p>
<p>在SHA256算法中，用到的64个常量如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="mi">428</span><span class="n">a2f98</span> <span class="mi">71374491</span> <span class="n">b5c0fbcf</span> <span class="n">e9b5dba5</span>
</span></span><span class="line"><span class="cl"><span class="mi">3956</span><span class="n">c25b</span> <span class="mf">59f111f</span><span class="mi">1</span> <span class="mf">923f</span><span class="mi">82</span><span class="n">a4</span> <span class="n">ab1c5ed5</span>
</span></span><span class="line"><span class="cl"><span class="n">d807aa98</span> <span class="mi">12835</span><span class="n">b01</span> <span class="mi">243185</span><span class="n">be</span> <span class="mi">550</span><span class="n">c7dc3</span>
</span></span><span class="line"><span class="cl"><span class="mi">72</span><span class="n">be5d74</span> <span class="mi">80</span><span class="n">deb1fe</span> <span class="mi">9</span><span class="n">bdc06a7</span> <span class="n">c19bf174</span>
</span></span><span class="line"><span class="cl"><span class="n">e49b69c1</span> <span class="n">efbe4786</span> <span class="mf">0f</span><span class="n">c19dc6</span> <span class="mi">240</span><span class="n">ca1cc</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="n">de92c6f</span> <span class="mi">4</span><span class="n">a7484aa</span> <span class="mi">5</span><span class="n">cb0a9dc</span> <span class="mf">76f</span><span class="mi">988</span><span class="n">da</span>
</span></span><span class="line"><span class="cl"><span class="mf">983e5152</span> <span class="n">a831c66d</span> <span class="n">b00327c8</span> <span class="n">bf597fc7</span>
</span></span><span class="line"><span class="cl"><span class="n">c6e00bf3</span> <span class="n">d5a79147</span> <span class="mo">06</span><span class="n">ca6351</span> <span class="mi">14292967</span>
</span></span><span class="line"><span class="cl"><span class="mi">27</span><span class="n">b70a85</span> <span class="mf">2e1</span><span class="n">b2138</span> <span class="mi">4</span><span class="n">d2c6dfc</span> <span class="mi">53380</span><span class="n">d13</span>
</span></span><span class="line"><span class="cl"><span class="mi">650</span><span class="n">a7354</span> <span class="mi">766</span><span class="n">a0abb</span> <span class="mi">81</span><span class="n">c2c92e</span> <span class="mi">92722</span><span class="n">c85</span>
</span></span><span class="line"><span class="cl"><span class="n">a2bfe8a1</span> <span class="n">a81a664b</span> <span class="n">c24b8b70</span> <span class="n">c76c51a3</span>
</span></span><span class="line"><span class="cl"><span class="n">d192e819</span> <span class="n">d6990624</span> <span class="n">f40e3585</span> <span class="mi">106</span><span class="n">aa070</span>
</span></span><span class="line"><span class="cl"><span class="mi">19</span><span class="n">a4c116</span> <span class="mf">1e376</span><span class="n">c08</span> <span class="mi">2748774</span><span class="n">c</span> <span class="mi">34</span><span class="n">b0bcb5</span>
</span></span><span class="line"><span class="cl"><span class="mi">391</span><span class="n">c0cb3</span> <span class="mi">4</span><span class="n">ed8aa4a</span> <span class="mi">5</span><span class="n">b9cca4f</span> <span class="mf">682e6</span><span class="n">ff3</span>
</span></span><span class="line"><span class="cl"><span class="mf">748f</span><span class="mi">82</span><span class="n">ee</span> <span class="mi">78</span><span class="n">a5636f</span> <span class="mi">84</span><span class="n">c87814</span> <span class="mi">8</span><span class="n">cc70208</span>
</span></span><span class="line"><span class="cl"><span class="mi">90</span><span class="n">befffa</span> <span class="n">a4506ceb</span> <span class="n">bef9a3f7</span> <span class="n">c67178f2</span>
</span></span></code></pre></div><p>和8个哈希初值类似，这些常量是对自然数中前64个质数（2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97…)的立方根的小数部分取前32bit而来。</p>
<h3 id="信息预处理">
<a class="header-anchor" href="#%e4%bf%a1%e6%81%af%e9%a2%84%e5%a4%84%e7%90%86"></a>
信息预处理
</h3><p>SHA256算法中的预处理就是在想要Hash的消息后面补充需要的信息，使整个消息满足指定的结构。</p>
<p>信息的预处理分为两个步骤：<code>附加填充比特</code>和<code>附加长度</code></p>
<ol>
<li>
<p>附加填充比特</p>
<p>==在报文末尾进行填充，使报文长度在对512取模以后的余数是448。==</p>
<p>填充是这样进行的：先补第一个比特为1，然后都补0，直到长度满足对512取模后余数是448。</p>
<p>需要注意的是，信息必须进行填充，也就是说，即使长度已经满足对512取模后余数是448，补位也必须要进行，这时要填充512个比特。</p>
<p>因此，填充是至少补一位，最多补512位。</p>
<blockquote>
<p>例：以信息“abc”为例显示补位的过程。</p>
<p>a,b,c对应的ASCII码分别是97,98,99</p>
<p>于是原始信息的二进制编码为：01100001 01100010 01100011</p>
<p>补位第一步，首先补一个“1” ： 0110000101100010 01100011 1</p>
<p>补位第二步,补423个“0”：01100001 01100010 01100011 10000000 00000000 … 00000000</p>
<p>补位完成后的数据如下（为了简洁用16进制表示）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="mi">61626380</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span><span class="line"><span class="cl"><span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span><span class="line"><span class="cl"><span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span><span class="line"><span class="cl"><span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span></code></pre></div></blockquote>
<blockquote>
<p>为什么是448?</p>
<p>因为在第一步的预处理后，第二步会再附加上一个64bit的数据，用来表示原始报文的长度信息。而448+64=512，正好拼成了一个完整的结构。</p></blockquote>
</li>
<li>
<p>附加长度值</p>
<p>附加长度值就是将原始数据（第一步填充前的消息）的长度信息补到已经进行了填充操作的消息后面。</p>
<p>SHA256用一个64位的数据来表示原始消息的长度。因此，通过SHA256计算的消息长度必须要小于$ 2^{64} $，当然绝大多数情况这足够大了。</p>
<blockquote>
<p>回到刚刚的例子，消息“abc”，3个字符，占用24个bit</p>
<p>因此，在进行了补长度的操作以后，整个消息就变成下面这样了（16进制格式）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="mi">61626380</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span><span class="line"><span class="cl"><span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span><span class="line"><span class="cl"><span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span>
</span></span><span class="line"><span class="cl"><span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">00000000</span> <span class="mo">0000001</span><span class="mi">8</span>
</span></span></code></pre></div></blockquote>
</li>
</ol>
<h3 id="逻辑运算">
<a class="header-anchor" href="#%e9%80%bb%e8%be%91%e8%bf%90%e7%ae%97"></a>
逻辑运算
</h3>$$
Ch(x,y,z)=(x∧y)⊕(¬x∧z)\\
Ma(x,y,z)=(x∧y)⊕(x∧z)⊕(y∧z)\\
Σ_0(x)=S^2 (x)⊕S^{13}(x)⊕S^{22}(x)\\
Σ_1 (x)=S^6(x)⊕S^{11}(x)⊕S^{25}(x)\\
σ_0(x)=S^{7}(x)⊕S^{18}(x)⊕R^{3}(x)\\
σ_1(x)=S^{17}(x)⊕S^{19}(x)⊕R^{10}(x)
$$<p>
其中：</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">逻辑运算</th>
          <th>含义</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">^</td>
          <td>按位&quot;与&quot;</td>
      </tr>
      <tr>
          <td style="text-align: center">¬</td>
          <td>按位“补”</td>
      </tr>
      <tr>
          <td style="text-align: center">⊕</td>
          <td>按位“异或”</td>
      </tr>
      <tr>
          <td style="text-align: center">$S^{n}$</td>
          <td>循环右移n个bit</td>
      </tr>
      <tr>
          <td style="text-align: center">$R^{n}$</td>
          <td>右移n个bit</td>
      </tr>
  </tbody>
</table>
<h3 id="开始计算">
<a class="header-anchor" href="#%e5%bc%80%e5%a7%8b%e8%ae%a1%e7%ae%97"></a>
开始计算
</h3><ol>
<li>
<p>首先将消息分解为512-bit大小的块</p>
<p><img src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/11/20_15_8_15_202411201508935.png" alt="分解"></p>
<p>假设消息M可以被分解为n个块，于是整个算法需要做的就是完成n次迭代，n次迭代的结果就是最终的哈希值，即256bit的数字摘要。</p>
<p>一个256-bit的摘要的初始值H0，经过第一个数据块进行运算，得到H1，即完成了第一次迭代，H1经过第二个数据块得到H2，……，依次处理，最后得到Hn，Hn即为最终的256-bit消息摘要。</p>
<p>将每次迭代进行的映射用$ Map(H_{i-1}) = H_{i} $表示，于是迭代可以更形象的展示为：</p>
<p><img src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/11/20_15_10_30_202411201510892.png" alt="循环迭代"></p>
<p>图中256-bit的<code>Hi</code>被描述8个小块，这是因为SHA256算法中的最小运算单元称为“字”（Word），一个字是32位。</p>
<p>此外，第一次迭代中，映射的初值设置为前面介绍的8个哈希初值，如下图所示：</p>
<p><img src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/11/20_15_18_3_202411201518156.png" alt="哈希初值"></p>
</li>
<li>
<p>构造64个字（word）</p>
<p>对于每一块，将块分解为16个32-bit的字，记为w[0], …, w[15]</p>
<p>也就是说，前16个字直接由消息的第i个块分解得到</p>
$$
   W_t =σ_1(W_{t−2})+W_{t−7}+σ_0(W_{t−15})+W_{t−16}
   $$</li>
<li>
<p>进行64次循环</p>
<p>映射 $ Map(H_{i-1}) = H_{i} $ 包含了64次加密循环，即进行64次加密循环即可完成一次迭代，</p>
<p>每次加密循环可以由下图描述：</p>
<p><img src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/11/20_15_23_53_202411201523511.png" alt="image-20241120152352360"></p>
<p>图中，ABCDEFGH这8个字（word）在按照一定的规则进行更新，其中深蓝色方块是事先定义好的非线性逻辑函数，上文已经做过铺垫</p>
<p>红色田字方块代表 mod $ 2^{32} $ addition，即将两个数字加在一起，如果结果大于$ 2^{32}$，你必须除以 $2^{32} $并找到余数。</p>
<p>ABCDEFGH一开始的初始值分别为$ H_{i-1}(0),H_{i-1}(1),…,H_{i-1}(7) $</p>
<p>Kt是第t个密钥，对应我们上文提到的64个常量</p>
<p>Wt是本区块产生第t个word。原消息被切成固定长度512-bit的区块，对每一个区块，产生64个word，通过重复运行循环n次对ABCDEFGH这八个字循环加密。</p>
<p>最后一次循环所产生的八个字合起来即是第i个块对应到的散列字符串$ H_{i} $</p>
</li>
</ol>
<h1 id="奇偶校验-parity-check">
<a class="header-anchor" href="#%e5%a5%87%e5%81%b6%e6%a0%a1%e9%aa%8c-parity-check"></a>
奇偶校验 (Parity Check)
</h1><h2 id="参考链接-3">
<a class="header-anchor" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5-3"></a>
参考链接
</h2><p><a href="https://blog.csdn.net/2301_80064376/article/details/140005268">奇偶校验原理（超详细）-CSDN博客</a></p>
<h2 id="基本原理">
<a class="header-anchor" href="#%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86"></a>
基本原理
</h2><p><strong>奇偶校验</strong>通过在数据末尾添加一个位，确保数据传输的正确性。<a href="https://so.csdn.net/so/search?q=%e5%a5%87%e5%81%b6%e6%a0%a1%e9%aa%8c&amp;spm=1001.2101.3001.7020">奇偶校验</a>分为<strong>奇校验</strong>和<strong>偶校验</strong>两种。<strong>奇偶校验通过设置规则来检查一组给定的位中1的数量</strong>。如果采用奇校验，每个数据单元中1的总数必须是奇数；如果采用偶校验，总数必须是偶数。</p>
<ul>
<li><strong>奇校验</strong>：如果数据单元中1的数量已经是奇数，则校验位设置为0；否则，校验位设置为1。</li>
<li><strong>偶校验</strong>：如果数据单元中1的数量已经是偶数，则校验位设置为0；否则，校验位设置为1。</li>
</ul>
<blockquote>
<p>[!important]</p>
<p><strong>计算机通过对所有信息位进行异或操作来实现求偶校验位和进行偶校验</strong>。这种方法简单有效，但只能检测到单个比特错误，无法检测多位错误。</p>
<p><strong>原理</strong>：奇偶校验通过计算数据中1的数量来判断数据是否被篡改。根据约定，可以是奇数校验或偶数校验。</p></blockquote>
<h2 id="奇偶校验在同步与异步传输中的应用">
<a class="header-anchor" href="#%e5%a5%87%e5%81%b6%e6%a0%a1%e9%aa%8c%e5%9c%a8%e5%90%8c%e6%ad%a5%e4%b8%8e%e5%bc%82%e6%ad%a5%e4%bc%a0%e8%be%93%e4%b8%ad%e7%9a%84%e5%ba%94%e7%94%a8"></a>
奇偶校验在同步与异步传输中的应用
</h2><p><strong>同步传输常用奇校验，而异步传输常用偶校验</strong>。这是因为同步传输中，全0数据采用奇校验时至少会有1个1，便于判断是否有传送发生；异步传输中，由于有停止位，采用偶校验时接收方也至少能收到1个1。</p>
<p><strong>奇偶校验电路实现</strong>：</p>
<ul>
<li><strong>偶校验位的产生</strong>：通过对待发送的数据依次做异或运算即可得到。</li>
<li><strong>奇校验位的产生</strong>：在偶校验电路的输出取非，产生奇校验位的代价高，速度相对慢。</li>
</ul>
<h2 id="栗子-2">
<a class="header-anchor" href="#%e6%a0%97%e5%ad%90-2"></a>
栗子
</h2><h3 id="偶校验">
<a class="header-anchor" href="#%e5%81%b6%e6%a0%a1%e9%aa%8c"></a>
偶校验
</h3><p>在偶校验中，校验位被设置为使得整个数据块（包括校验位）的1的个数为偶数。</p>
<ul>
<li>原数据：<code>1010001</code></li>
<li>1的个数：<code>3</code>（奇数）</li>
<li>校验位：<code>1</code>（使得1的总个数变为偶数）</li>
<li>校验后的数据：<code>10100011</code></li>
</ul>
<h3 id="奇校验">
<a class="header-anchor" href="#%e5%a5%87%e6%a0%a1%e9%aa%8c"></a>
奇校验
</h3><p>在奇校验中，校验位被设置为使得整个数据块（包括校验位）的1的个数为奇数。</p>
<ul>
<li>原数据：<code>1010001</code></li>
<li>1的个数：<code>3</code>（奇数）</li>
<li>校验位：<code>0</code>（保持1的总个数为奇数）</li>
<li>校验后的数据：<code>10100010</code></li>
</ul>
<h3 id="校验过程">
<a class="header-anchor" href="#%e6%a0%a1%e9%aa%8c%e8%bf%87%e7%a8%8b"></a>
校验过程
</h3><ol>
<li><strong>发送方</strong>：在数据末尾添加校验位，形成校验单元后发送。</li>
<li><strong>接收方</strong>：重新计算校验位，并与接收到的校验位比对。如果相同，则数据传输正确；如果不同，则数据传输过程中出现错误。</li>
</ol>
<p><strong>类型</strong>：</p>
<ul>
<li><strong>单比特奇偶校验</strong>：针对单个数据单元（如字节）进行校验，能检测单个比特的错误。</li>
<li><strong>两维奇偶校验</strong>：在数据块的每行和每列都进行奇偶校验，能提供更强的错误检测能力。</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">parity_check</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byte</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">count</span> <span class="o">+=</span> <span class="n">byte</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">byte</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">count</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// 返回1表示奇数校验，0表示偶数校验
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">data</span> <span class="o">=</span> <span class="mi">0</span><span class="n">b10101100</span><span class="p">;</span>  <span class="c1">// 示例数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">parity</span> <span class="o">=</span> <span class="nf">parity_check</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Parity: %d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">parity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h1 id="纵向冗余校验longitudinal-redundancy-checklrc">
<a class="header-anchor" href="#%e7%ba%b5%e5%90%91%e5%86%97%e4%bd%99%e6%a0%a1%e9%aa%8clongitudinal-redundancy-checklrc"></a>
纵向冗余校验（Longitudinal Redundancy Check，LRC）
</h1><h2 id="参考链接-4">
<a class="header-anchor" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5-4"></a>
参考链接
</h2><p><a href="https://blog.csdn.net/ZCShouCSDN/article/details/94131769">常用算法 之五 数据校验（CRC 原理、LRC、奇偶校验、校验和）详解_lrc校验-CSDN博客</a></p>
<h2 id="基本原理-1">
<a class="header-anchor" href="#%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86-1"></a>
基本原理
</h2><p>纵向冗余校验（LRC）是一种用于检测数据传输错误的常用方法，特别是在工业通信协议如Modbus ASCII模式中应用广泛。LRC的基本原理是通过对数据帧中的每个字节进行异或运算来生成一个校验字节，从而确保数据的完整性。</p>
<p>LRC的计算步骤如下：</p>
<ol>
<li><strong>数据处理</strong>：将需要校验的数据按字节排列，忽略起始和结束字符（如冒号和回车换行符）。</li>
<li><strong>异或运算</strong>：对所有字节进行异或运算。</li>
<li><strong>结果应用</strong>：将计算出的LRC值附加到数据帧的末尾，发送方和接收方都会计算LRC值并进行比较，如果两个值不相等，则表示数据传输过程中存在错误。</li>
</ol>
<p>LRC的主要优点在于其简单性和快速性，适用于小数据块的错误检测。然而，它也有明显的缺点，例如无法检测到偶数个位同时出错的情况。此外，LRC对突发错误的检测能力较弱，这意味着在某些情况下可能无法准确识别错误。</p>
<p>LRC校验广泛应用于工业通信协议中，如Modbus协议的ASCII模式，以及一些射频识别系统中。在这些场景中，由于标签容量有限，LRC因其简单高效而成为一种理想的选择。</p>
<p><img src="https://gitlab.com/18355291538/picture/-/raw/main/pictures/2024/11/19_19_53_38_202411191953885.png" alt="纵向冗余校验"></p>
<h2 id="栗子-3">
<a class="header-anchor" href="#%e6%a0%97%e5%ad%90-3"></a>
栗子
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 计算 LRC 校验值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">calculateLRC</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">lrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// 初始 LRC 校验值为 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 对每个字节逐位 XOR 计算
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">lrc</span> <span class="o">^=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">lrc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 假设我们有一组数据，每个字节为一个数据单元
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">data</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mh">0xD5</span><span class="p">,</span> <span class="mh">0xB9</span><span class="p">,</span> <span class="mh">0x7A</span><span class="p">};</span> <span class="c1">// 示例数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">data_length</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 计算 LRC 校验值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">lrc</span> <span class="o">=</span> <span class="nf">calculateLRC</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">data_length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 输出数据和计算的 LRC 校验值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Data: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">data_length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%02X &#34;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\n</span><span class="s">LRC: %02X</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">lrc</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
      
    </div>
    <footer class="article-footer">
      

      

      

      

      

      

      

      
      <ul class="article-tag-list" itemprop="keywords">
  
</ul>

    </footer>
  </div>
  
    
  <nav
    id="article-nav"
    data-aos="fade-up"
  >
    
      <div class="article-nav-link-wrap article-nav-link-left">
        
          
          
            <img
              data-src="https://d-sketon.top/img/_backwebp/bg1.webp"
              data-sizes="auto"
              alt=""
              class="lazyload"
            />
          
        
        <a href="http://localhost:1313/youShouldTrustMe/youShouldTrustMe.github.io/post/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%A1%80/"></a>
        <div class="article-nav-caption">前一篇</div>
        <h3 class="article-nav-title">
          
            (no title)
          
        </h3>
      </div>
    

    
      <div class="article-nav-link-wrap article-nav-link-right">
        
          
          
            <img
              data-src="https://d-sketon.top/img/_backwebp/bg1.webp"
              data-sizes="auto"
              alt=""
              class="lazyload"
            />
          
        
        <a href="http://localhost:1313/youShouldTrustMe/youShouldTrustMe.github.io/post/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/"></a>
        <div class="article-nav-caption">后一篇</div>
        <h3 class="article-nav-title">
          
            (no title)
          
        </h3>
      </div>
    
  </nav>


  
</article>










</section>
        </div>
        
        
        



  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  



<footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info">
    <div>
      <span class="icon-copyright"></span>
      2020 -
      2025
      <span class="footer-info-sep rotate"></span>
      TrustMe
    </div>
    
      <div>
        基于&nbsp;<a
          href="https://gohugo.io/"
          target="_blank"
          >Hugo</a
        >&nbsp; Theme.<a
          href="https://github.com/D-Sketon/hugo-theme-reimu"
          target="_blank"
          >Reimu</a
        >
      </div>
    
    
      <div>
        <span class="icon-brush"
          >&nbsp;
            44.5k
          </span
        >
        &nbsp;|&nbsp;
        <span class="icon-coffee">&nbsp;
          
          

          04:01
        </span>
      </div>
    
    
    
    
      <div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv"
          >总访问量&nbsp;<span
            id="busuanzi_value_site_pv"
          ></span
        ></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv"
          >总访客量&nbsp;<span
            id="busuanzi_value_site_uv"
          ></span
        ></span>
      </div>
    
  </div>
</footer>

        
          <div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div>
        
        <div id="mask" class="hide"></div>
      </div>
      <nav id="mobile-nav">
  <div class="sidebar-wrap">
    
      <div class="sidebar-toc-sidebar">
        <div class="sidebar-toc">
  <h3 class="toc-title">文章目录</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#参考链接">参考链接</a></li>
    <li><a href="#原理及步骤">原理及步骤</a></li>
    <li><a href="#栗子">栗子</a></li>
  </ul>

  <ul>
    <li><a href="#参考链接-1">参考链接</a></li>
    <li><a href="#简介">简介</a></li>
    <li><a href="#原理">原理</a></li>
    <li><a href="#栗子-1">栗子</a></li>
  </ul>

  <ul>
    <li><a href="#参考链接-2">参考链接</a></li>
    <li><a href="#md5摘要算法">MD5摘要算法</a></li>
    <li><a href="#sha256校验">SHA256校验</a>
      <ul>
        <li><a href="#常量初始化">常量初始化</a></li>
        <li><a href="#信息预处理">信息预处理</a></li>
        <li><a href="#逻辑运算">逻辑运算</a></li>
        <li><a href="#开始计算">开始计算</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#参考链接-3">参考链接</a></li>
    <li><a href="#基本原理">基本原理</a></li>
    <li><a href="#奇偶校验在同步与异步传输中的应用">奇偶校验在同步与异步传输中的应用</a></li>
    <li><a href="#栗子-2">栗子</a>
      <ul>
        <li><a href="#偶校验">偶校验</a></li>
        <li><a href="#奇校验">奇校验</a></li>
        <li><a href="#校验过程">校验过程</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#参考链接-4">参考链接</a></li>
    <li><a href="#基本原理-1">基本原理</a></li>
    <li><a href="#栗子-3">栗子</a></li>
  </ul>
</nav>
  </div>
</div>
      </div>
      <div class="sidebar-common-sidebar hidden">
        
<div class="sidebar-author">
  <img
    data-src="/youShouldTrustMe/youShouldTrustMe.github.io/avatar/avatar.webp"
    data-sizes="auto"
    alt="TrustMe"
    class="lazyload"
  />
  <div class="sidebar-author-name">TrustMe</div>
  <div class="sidebar-description">你要信我啊</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>文章</div>
    
    <div class="sidebar-state-number">60</div>
  </div>
  <div class="sidebar-state-category">
    <div>分类</div>
    <div class="sidebar-state-number">
      0
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>标签</div>
    <div class="sidebar-state-number">0</div>
  </div>
</div>
<div class="sidebar-social">
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/"
        aria-label="首页"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">首页</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/archives"
        aria-label="归档"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">归档</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/about"
        aria-label="关于"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">关于</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/youShouldTrustMe/youShouldTrustMe.github.io/friend"
        aria-label="友链"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>
        
          
            &#xe62b;
          
        
      </div>
      <div class="sidebar-menu-link">友链</div>
    </div>
  
</div>

      </div>
    
  </div>
  
    <div class="sidebar-btn-wrapper">
      <div class="sidebar-toc-btn current"></div>
      <div class="sidebar-common-btn"></div>
    </div>
  
</nav>

    </div>
    
    






  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js"
    
    
    
    
    integrity="sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf&#43;e" crossorigin="anonymous"
  ></script>




  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js"
    
    
    
    
    integrity="sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"
  ></script>









  
      
      <script src="/youShouldTrustMe/youShouldTrustMe.github.io/js/main.js" ></script>
      



  





  
      
      <script src="/youShouldTrustMe/youShouldTrustMe.github.io/js/aos.js" ></script>
      

  <script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", aosInit);
    } else {
      aosInit();
    }
  </script>








  
      
      <script src="/youShouldTrustMe/youShouldTrustMe.github.io/js/pjax_main.js" data-pjax></script>
      





  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/mouse-firework@0.1.0/dist/index.umd.js"
    
    
    
    
    integrity="sha384-KM6i7tu43nYd6e0beIljxHMC5tZc58XBDu7pPA58w50h18Jsx7gLdimfS09RXlKv" crossorigin="anonymous"
  ></script>


<script>
  if (window.firework) {
    const options = JSON.parse("{\"excludeelements\":[\"a\",\"button\"],\"particles\":[{\"colors\":[\"#ff5252\",\"#ff7c7c\",\"#ffafaf\",\"#ffd0d0\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"emit\"],\"number\":20,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.3,0.5],\"radius\":[16,32]}},{\"colors\":[\"#ff0000\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"diffuse\"],\"number\":1,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.2,0.5],\"lineWidth\":6,\"radius\":20}}]}");
    options.excludeElements = options.excludeelements;
    delete options.excludeelements;
    window.firework(options);
  }
</script>








<div id="lazy-script">
  <div>
    
      
      
        
      
      <script data-pjax>
        window.REIMU_POST = {
          author: "TrustMe",
          title: "",
          url: "http:\/\/localhost:1313\/youShouldTrustMe\/youShouldTrustMe.github.io\/post\/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86\/%E6%A0%A1%E9%AA%8C\/",
          description: " 校验和 (Checksum) 参考链接 CheckSum算法\u0026ndash;又名累加和校验算法 - 皮卡成球 - 博客园\n原理及步骤 **校验和（Checksum）**是网络协议使用的数据错误检测方法，并且被认为比LRC（纵向冗余校验，Longitudinal Redundancy Check，LRC），VRC和CRC（循环冗余校验（Cyclic Redundancy Codes，CRC））更可靠。此方法在发送方使用校验和生成器，在接收方使用校验和校验器。\n累加和校验算法的实现\n发送方：对要数据累加，得到一个数据和，对和求反，即得到我们的校验值。然后把要发的数据和这个校验值一起发送给接收方。\n …",
          cover: "http:\/\/localhost:1313\/youShouldTrustMe\/youShouldTrustMe.github.io\/images\/background.jpg",
        };
      </script>
    
    
    
      





  
      
      <script src="/youShouldTrustMe/youShouldTrustMe.github.io/js/insert_highlight.js" data-pjax></script>
      

      
      
      
      
      <script type="module" data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;

        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script>
      












      
    
    
  </div>
</div>




  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js"
    
    async
    
    
    integrity="sha384-0M75wtSkhjIInv4coYlaJU83&#43;OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id&#43;S" crossorigin="anonymous"
  ></script>





  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then((registrations) => {
        for (let registration of registrations) {
          registration.unregister();
        }
      });
    }
  </script>


<script>
  const reimuCopyright = String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;
  console.log(String.raw`%c ${reimuCopyright}`, "color: #ff5252;");
  console.log(
    "%c Theme.Reimu" + " %c https://github.com/D-Sketon/hugo-theme-reimu ",
    "color: white; background: #ff5252; padding:5px 0;",
    "padding:4px;border:1px solid #ff5252;",
  );
</script>




  </body>
</html>
