<!doctype html>
<html
  lang="zh-cn" 
  
    data-theme-mode="auto"
  
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/>







  

<title>
  编程规范 | TrustMe
</title>
<meta
  name="description"
  content="你要信我啊"
/>










<script>
  window.siteConfig = JSON.parse("{\"anchor_icon\":null,\"clipboard\":{\"copyright\":{\"content\":\"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！\",\"count\":50,\"enable\":false},\"fail\":\"复制失败 (ﾟ⊿ﾟ)ﾂ\",\"success\":\"复制成功(*^▽^*)\"},\"code_block\":{\"expand\":true},\"icon_font\":\"4552607_0khxww3tj3q9\",\"outdate\":{\"daysago\":180,\"enable\":false,\"message\":\"本文最后更新于 {time}，请注意文中内容可能已经发生变化。\"}}");
</script>











  
  
  
    
  

  
  
  
    
  

  
    

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  rel="preload"
  as="style"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
  media="print"
  onload="this.media='all'"
/>






  <link
    rel="preload"
    href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  />



  






 <link rel="stylesheet" href="/css/loader.css" />




  <meta property="og:type" content="website" />
  <meta property="og:title" content="编程规范 | TrustMe" />
  <meta
    property="og:description"
    content="你要信我啊"
  />
  <meta property="og:url" content="http://localhost:1313/post/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/" />
  <meta
    property="og:site_name"
    content="TruestMe&#39;s Blog"
  />
  <meta
    property="og:image"
    content="/"
  />
  <meta property="article:author" content="TrustMe" />
  <meta property="article:published_time" content="2025-03-01T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2025-03-01T00:00:00&#43;00:00" />
  
    <meta property="article:tag" content="基础知识" />
  
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="/" />
  
  
  
  
  




<link rel="shortcut icon" href="/favicon.ico">







 <link rel="stylesheet" href="/css/main.css" />





  <link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css"
    onload="this.onload=null;this.rel='stylesheet'"
  />






  <link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css"
    onload="this.onload=null;this.rel='stylesheet'"
  />








  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js"
    
    
    
    
    integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"
  ></script>





  


  <link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css" />





  </head>
  <body>
    
  <div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi">
        
          <img src="/images/loadImage.png" alt="loading" />
        
      </div>
      <div class="loading-word">赖东东得加载一会....</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script>


<div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>


    <div id="container">
      <div id="wrap">
        
<div id="header-nav">
  <nav id="main-nav">
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon '>
          
            &#xe61b;
          
        </div>
        <a class="main-nav-link" href="/">首页</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon '>
          
            &#xe623;
          
        </div>
        <a class="main-nav-link" href="/archives">归档</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon '>
          
            &#xe621;
          
        </div>
        <a class="main-nav-link" href="/about">关于</a>
      </span>
    
      <span class="main-nav-link-wrap">
        <div class='main-nav-icon icon '>
          
            &#xe639;
          
        </div>
        <a class="main-nav-link" href="/friend">友链</a>
      </span>
    
    <a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav">
    
    
      <a id="nav-search-btn" class="nav-icon popup-trigger" title="搜索"></a>
    
  </nav>
</div>
<header id="header">
  
    <picture>
      
    </picture>
    
      <img fetchpriority="high" src="/images/background.jpg" alt="编程规范">
    
  

  <div id="header-outer">
    <div id="header-title">
      
        
        
          
        
  
        
          <a href="/" id="logo">
            <h1 data-aos="slide-up">编程规范</h1>
          </a>
        
      
  
      
        
        
        <h2 id="subtitle-wrap" data-aos="slide-down">
          
        </h2>
      
    </div>
  </div>
</header>
        <div id="content"
          class="sidebar-left"
            >
          <aside id="sidebar">
  
  
  <div class="sidebar-wrapper wrap-sticky">
    <div
      class="sidebar-wrap"
      data-aos="fade-up"
    >
      
        <div class="sidebar-toc-sidebar">
          <div class="sidebar-toc">
  <h3 class="toc-title">文章目录</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#缩写">缩写</a></li>
    <li><a href="#概览">概览</a></li>
    <li><a href="#asw">ASW</a></li>
    <li><a href="#bsw">BSW</a></li>
    <li><a href="#boot">BOOT</a></li>
    <li><a href="#documents">Documents</a></li>
    <li><a href="#os">OS</a></li>
    <li><a href="#output">Output</a></li>
    <li><a href="#project">Project</a></li>
    <li><a href="#110-readme">1.10 ReadMe</a></li>
  </ul>

  <ul>
    <li><a href="#文件名命名规则">文件名命名规则</a></li>
    <li><a href="#命名标准">命名标准</a>
      <ul>
        <li><a href="#通信栈模块com">通信栈模块（Com）</a></li>
        <li><a href="#诊断通信管理模块dcm">诊断通信管理模块（Dcm）</a></li>
        <li><a href="#基础板级支持包bsp">基础板级支持包（BSP）</a></li>
        <li><a href="#ecu状态管理模块ecum">ECU状态管理模块（EcuM）</a></li>
        <li><a href="#操作系统模块os">操作系统模块（Os）</a></li>
        <li><a href="#基础软件管理模块bswm">基础软件管理模块（BswM）</a></li>
        <li><a href="#非易失性存储管理模块nvm">非易失性存储管理模块（Nvm）</a></li>
        <li><a href="#autosar-xml-文件">AUTOSAR XML 文件</a></li>
        <li><a href="#autosar文件名命名总结">AUTOSAR文件名命名总结</a></li>
      </ul>
    </li>
    <li><a href="#头文件">头文件</a></li>
  </ul>

  <ul>
    <li><a href="#缩进与对齐">缩进与对齐</a>
      <ul>
        <li><a href="#缩进">缩进</a></li>
        <li><a href="#对齐">对齐</a></li>
      </ul>
    </li>
    <li><a href="#行长度与换行">行长度与换行</a>
      <ul>
        <li><a href="#行长度">行长度</a></li>
        <li><a href="#换行规则">换行规则</a></li>
      </ul>
    </li>
    <li><a href="#空格与空行">空格与空行</a>
      <ul>
        <li><a href="#空格">空格</a></li>
        <li><a href="#空行">空行</a></li>
      </ul>
    </li>
    <li><a href="#括号与分号">括号与分号</a>
      <ul>
        <li><a href="#括号">括号</a></li>
        <li><a href="#分号">分号</a></li>
      </ul>
    </li>
    <li><a href="#注释格式">注释格式</a>
      <ul>
        <li><a href="#单行注释">单行注释</a></li>
        <li><a href="#多行注释">多行注释</a></li>
      </ul>
    </li>
    <li><a href="#函数排版">函数排版</a>
      <ul>
        <li><a href="#函数声明">函数声明</a></li>
        <li><a href="#函数定义">函数定义</a></li>
      </ul>
    </li>
    <li><a href="#结构体与枚举排版">结构体与枚举排版</a>
      <ul>
        <li><a href="#结构体">结构体</a></li>
        <li><a href="#枚举">枚举</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#文件注释规范">文件注释规范</a>
      <ul>
        <li><a href="#文件头注释">文件头注释</a></li>
        <li><a href="#注释格式-1">注释格式</a></li>
      </ul>
    </li>
    <li><a href="#文件头注释示例">文件头注释示例</a>
      <ul>
        <li><a href="#c-文件注释"><code>.c</code> 文件注释</a></li>
        <li><a href="#h-文件注释"><code>.h</code> 文件注释</a></li>
      </ul>
    </li>
    <li><a href="#文件内容注释">文件内容注释</a>
      <ul>
        <li><a href="#模块注释">模块注释</a></li>
        <li><a href="#函数注释">函数注释</a></li>
        <li><a href="#结构体和枚举注释">结构体和枚举注释</a></li>
      </ul>
    </li>
    <li><a href="#其他注释">其他注释</a>
      <ul>
        <li><a href="#代码块注释">代码块注释</a></li>
        <li><a href="#修改记录">修改记录</a></li>
      </ul>
    </li>
    <li><a href="#软件配置">软件配置</a>
      <ul>
        <li><a href="#vscode">Vscode</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#常见变量类型前缀缩写">常见变量类型前缀缩写</a></li>
    <li><a href="#模块相关变量前缀缩写">模块相关变量前缀缩写</a>
      <ul>
        <li><a href="#基本数据类型">基本数据类型</a></li>
        <li><a href="#布尔类型">布尔类型</a></li>
        <li><a href="#状态类型">状态类型</a></li>
        <li><a href="#复合数据类型">复合数据类型</a></li>
        <li><a href="#指针类型">指针类型</a></li>
        <li><a href="#数组类型">数组类型</a></li>
      </ul>
    </li>
    <li><a href="#配置头文件">配置头文件</a></li>
  </ul>

  <ul>
    <li><a href="#命名规则">命名规则</a></li>
    <li><a href="#bsp层函数名详细设计">BSP层函数名详细设计</a>
      <ul>
        <li><a href="#gpio模块">GPIO模块</a></li>
        <li><a href="#adc模块">ADC模块</a></li>
        <li><a href="#pwm模块">PWM模块</a></li>
        <li><a href="#can模块">CAN模块</a></li>
        <li><a href="#timer模块">Timer模块</a></li>
        <li><a href="#watchdog模块">Watchdog模块</a></li>
        <li><a href="#操作系统os模块">操作系统（OS）模块</a></li>
        <li><a href="#通信栈com模块">通信栈（COM）模块</a></li>
        <li><a href="#诊断通信管理dcm模块">诊断通信管理（DCM）模块</a></li>
        <li><a href="#ecu状态管理ecum模块">ECU状态管理（EcuM）模块</a></li>
        <li><a href="#调度管理schm模块">调度管理（SchM）模块</a></li>
        <li><a href="#存储栈nvm模块">存储栈（NVM）模块</a></li>
        <li><a href="#看门狗管理wdg模块">看门狗管理（Wdg）模块</a></li>
        <li><a href="#注意事项">注意事项</a></li>
      </ul>
    </li>
    <li><a href="#63-函数设计">6.3 函数设计</a>
      <ul>
        <li><a href="#631-函数命名规范"><strong>6.3.1. 函数命名规范</strong></a></li>
        <li><a href="#632-函数长度"><strong>6.3.2. 函数长度</strong></a></li>
        <li><a href="#633-函数参数"><strong>6.3.3. 函数参数</strong></a></li>
        <li><a href="#634-返回值"><strong>6.3.4. 返回值</strong></a></li>
        <li><a href="#64-函数内部设计"><strong>6.4 函数内部设计</strong></a></li>
        <li><a href="#65-函数复用与模块化"><strong>6.5 函数复用与模块化</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
        </div>
        <div class="sidebar-common-sidebar hidden">
          
<div class="sidebar-author">
  <img
    data-src="/avatar/avatar.webp"
    data-sizes="auto"
    alt="TrustMe"
    class="lazyload"
  />
  <div class="sidebar-author-name">TrustMe</div>
  <div class="sidebar-description">你要信我啊</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>文章</div>
    
    <div class="sidebar-state-number">60</div>
  </div>
  <div class="sidebar-state-category">
    <div>分类</div>
    <div class="sidebar-state-number">
      0
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>标签</div>
    <div class="sidebar-state-number">7</div>
  </div>
</div>
<div class="sidebar-social">
  
    <div class="icon-bilibili sidebar-social-icon">
      <a
        href="https://space.bilibili.com/yourname"
        itemprop="url"
        target="_blank"
        aria-label="bilibili"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
    <div class="icon-github sidebar-social-icon">
      <a
        href="https://github.com/youShouldTrustMe"
        itemprop="url"
        target="_blank"
        aria-label="github"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="首页"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe61b;
        
      </div>
      <div class="sidebar-menu-link">首页</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="归档"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe623;
        
      </div>
      <div class="sidebar-menu-link">归档</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/about"
        aria-label="关于"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe621;
        
      </div>
      <div class="sidebar-menu-link">关于</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/friend"
        aria-label="友链"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe639;
        
      </div>
      <div class="sidebar-menu-link">友链</div>
    </div>
  
</div>

        </div>
      

      
        <div class="sidebar-btn-wrapper" style="position:static">
          <div class="sidebar-toc-btn current"></div>
          <div class="sidebar-common-btn"></div>
        </div>
      
    </div>
  </div>

  <div class="sidebar-widget">
    
  </div>
</aside>

          <section id="main">
  <article
  class="h-entry article"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <div
    class="article-inner"
    data-aos="fade-up"
  >
    <div class="article-meta">
      <div class="article-date">
  <span
    class="article-date-link"
    data-aos="zoom-in"
  >
    <time datetime="2025-03-01 00:00:00 &#43;0000 UTC" itemprop="datePublished"
      >2025-03-01</time
    >
    <time style="display: none;" id="post-update-time"
      >2025-03-01</time
    >
  </span>
</div>

      <div class="article-category">
  
</div>

    </div>
    <div class="hr-line"></div>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
      
        <h1 id="参考链接">
<a class="header-anchor" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5"></a>
参考链接
</h1><p><a href="https://blog.csdn.net/zhengnianli/article/details/100061633">C语言 | 嵌入式C语言编程规范_函数名开头加uc-CSDN博客</a></p>
<blockquote>
<p>[!tip]</p>
<p>以下文件排版将会按照自顶向下的方式进行编排，<em>==文件夹 &gt; 文件名 &gt; 排版 &gt; 函数 &gt; 变量==</em></p></blockquote>
<h1 id="文件架构">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6%e6%9e%b6%e6%9e%84"></a>
文件架构
</h1><h2 id="缩写">
<a class="header-anchor" href="#%e7%bc%a9%e5%86%99"></a>
缩写
</h2><p>该项目文件树参考AUTOSAR结构，为了便于理解，此处展示部分缩写的全称：</p>
<table>
  <thead>
      <tr>
          <th>缩写</th>
          <th>全称</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>AUTOSAR</td>
          <td>AUTomotive Open System ARchitecture</td>
          <td>汽车开放系统架构，是汽车软件开发的标准框架。</td>
      </tr>
      <tr>
          <td>ASW</td>
          <td>Application Software</td>
          <td>应用软件，主要负责实现特定功能的业务逻辑。</td>
      </tr>
      <tr>
          <td>BSW</td>
          <td>Basic Software</td>
          <td>基础软件，负责底层硬件控制和通用服务的实现。</td>
      </tr>
      <tr>
          <td>BSP</td>
          <td>Board Support Package</td>
          <td>板级支持包，包含硬件初始化、驱动和相关工具。</td>
      </tr>
      <tr>
          <td>HAL</td>
          <td>Hardware Abstraction Layer</td>
          <td>硬件抽象层，提供对硬件的抽象访问接口。</td>
      </tr>
      <tr>
          <td>MCAL</td>
          <td>Microcontroller Abstraction Layer</td>
          <td>微控制器抽象层，提供对芯片外设的直接访问接口。</td>
      </tr>
      <tr>
          <td>RTE</td>
          <td>Run-Time Environment</td>
          <td>运行时环境，负责 ASW 与 BSW 的通信管理。</td>
      </tr>
      <tr>
          <td>UDS</td>
          <td>Unified Diagnostic Services</td>
          <td>统一诊断服务协议（ISO 14229），用于 ECU 的诊断通信。</td>
      </tr>
      <tr>
          <td>Dcm</td>
          <td>Diagnostic Communication Manager</td>
          <td>诊断通信管理模块，实现 UDS 服务的解析和处理。</td>
      </tr>
      <tr>
          <td>Dem</td>
          <td>Diagnostic Event Manager</td>
          <td>诊断事件管理模块，负责故障码存储和管理。</td>
      </tr>
      <tr>
          <td>PduR</td>
          <td>Protocol Data Unit Router</td>
          <td>协议数据单元路由模块，负责数据路由。</td>
      </tr>
      <tr>
          <td>CanTp</td>
          <td>CAN Transport Protocol</td>
          <td>CAN 传输协议模块，用于实现 UDS 消息的传输。</td>
      </tr>
      <tr>
          <td>NvM</td>
          <td>Non-Volatile Memory Manager</td>
          <td>非易失性内存管理模块，负责数据的持久化存储。</td>
      </tr>
      <tr>
          <td>SoAd</td>
          <td>Socket Adapter</td>
          <td>套接字适配器，用于实现基于 TCP/IP 的通信协议（如 DoIP）。</td>
      </tr>
      <tr>
          <td>ECU</td>
          <td>Electronic Control Unit</td>
          <td>电子控制单元，是汽车的嵌入式控制器。</td>
      </tr>
      <tr>
          <td>GPIO</td>
          <td>General Purpose Input/Output</td>
          <td>通用输入输出，硬件外设的一种。</td>
      </tr>
      <tr>
          <td>UART</td>
          <td>Universal Asynchronous Receiver-Transmitter</td>
          <td>通用异步收发器，用于串行通信。</td>
      </tr>
      <tr>
          <td>SPI</td>
          <td>Serial Peripheral Interface</td>
          <td>串行外设接口，用于高性能串行通信。</td>
      </tr>
      <tr>
          <td>I2C</td>
          <td>Inter-Integrated Circuit</td>
          <td>一种常用的两线串行通信协议。</td>
      </tr>
      <tr>
          <td>CAN</td>
          <td>Controller Area Network</td>
          <td>控制器局域网，是汽车通信总线的一种。</td>
      </tr>
      <tr>
          <td>FlexRay</td>
          <td>Flexible Ray</td>
          <td>一种高速汽车通信协议，用于安全关键应用。</td>
      </tr>
      <tr>
          <td>LIN</td>
          <td>Local Interconnect Network</td>
          <td>局域互连网络，低成本汽车通信协议。</td>
      </tr>
      <tr>
          <td>DoIP</td>
          <td>Diagnostics over Internet Protocol</td>
          <td>基于 IP 协议的诊断通信。</td>
      </tr>
      <tr>
          <td>OS</td>
          <td>Operating System</td>
          <td>操作系统，提供任务调度和资源管理功能。</td>
      </tr>
      <tr>
          <td>SWC</td>
          <td>Software Component</td>
          <td>软件组件，用于实现应用逻辑，是 ASW 层的核心构成模块。</td>
      </tr>
  </tbody>
</table>
<h2 id="概览">
<a class="header-anchor" href="#%e6%a6%82%e8%a7%88"></a>
概览
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─.vscode
</span></span><span class="line"><span class="cl">├─ASW				此处存放与硬件平台无关代码
</span></span><span class="line"><span class="cl">├─BSW				存放与硬件相关代码，所以子文件夹需要区分不同芯片型号
</span></span><span class="line"><span class="cl">├─BOOT				存放BOOT相关代码
</span></span><span class="line"><span class="cl">├─Documents			存放项目相关的文档，为了方便使用，最好将使用的芯片的手册放于此处
</span></span><span class="line"><span class="cl">├─OS				存放和系统相关的，如文件系统、操作系统、调度系统等等
</span></span><span class="line"><span class="cl">├─Output			存放输出文件，请在设置Keil和IAR等软件时，选用输出到此文件夹，方便管理，并且增强Project中的整洁性
</span></span><span class="line"><span class="cl">└─Project			存放和工程相关的文件树，如KEIL、IAR、SOURCEINSIGHT、TSMATSER、CANoe、JFLASH，与项目相关的工程请放置此处
</span></span></code></pre></div><blockquote>
<p>[!important]</p>
<p>不知道要将代码放在哪个文件夹中需要参考以下准则：</p>
<ol>
<li>与硬件无关的请存放于ASW，也就是逻辑相关</li>
<li>与硬件有关的请存放于BSW，也就是对接硬件平台</li>
<li>OS中存放系统相关，如文件系统、操作系统、调度系统</li>
<li>BOOT中存放和BOOT相关的文件，采用的协议文件，如UDS、OSI</li>
</ol></blockquote>
<blockquote>
<p>[!note]</p>
<p>为了保持风格的一致性，高两级的文件夹请使用开头大写（ASW、OS、User、Components等），再低级的文件夹就使用小写（inc、src、cfg等）</p></blockquote>
<h2 id="asw">
<a class="header-anchor" href="#asw"></a>
ASW
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─.vscode
</span></span><span class="line"><span class="cl">├─ASW				此处存放与硬件平台无关代码
</span></span><span class="line"><span class="cl">│  ├─SWC			此处存放APP相关组件代码，如门窗控制器组件等等
</span></span><span class="line"><span class="cl">│  │  └─btdm		此级文件夹下的文件树可以按照自己的喜好存放，如可以将c和h文件放在一起，也可按照不同的文件后缀对文件树进行构建
</span></span><span class="line"><span class="cl">│  │      ├─inc		存放头文件
</span></span><span class="line"><span class="cl">│  │      ├─lib		存放lib库文件
</span></span><span class="line"><span class="cl">│  │      └─src		存放c文件
</span></span><span class="line"><span class="cl">│  │      └─cfg		存放cfg文件
</span></span><span class="line"><span class="cl">│  ├─User			一般用于存放main函数和相关app操作函数，一般来说main函数尽量不要有太多的内容，使用函数调用，方便在此基础上修改
</span></span><span class="line"><span class="cl">│  └─Utils			存放工具文件，如delay、RTT、coreMark等工具。
</span></span><span class="line"><span class="cl">│  └─Include		存放APP端的相关宏配置文件。
</span></span></code></pre></div><blockquote>
<p>[!note]</p>
<p>注意，ASW中存放和硬件无关的代码，所以在写其中的代码，我们应该要尽量减少和硬件有关的代码，使用抽象代码，如使用定死的函数名访问，我们并不需要知道它下面是怎么实现的，我们只需要调用。（使用定死的函数名方便进行抽象）</p></blockquote>
<blockquote>
<p>[!important]</p>
<p>‼‼‼在ASW中写代码，一定要有抽象的概念‼‼‼</p>
<p>例如SWC是组件的意思，也就意味着，当你写好一个组件，那么我下次使用别的平台的时候可以直接调用你的组件，而不需要再修改很多东西，如定义一个宏开关来控制。</p>
<p>对于一个组件来说，我只需要知道你的组件的输入和输出即可，所以其中的代码尽量写的抽象，减少重复造轮子。</p></blockquote>
<h2 id="bsw">
<a class="header-anchor" href="#bsw"></a>
BSW
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─BSW				存放与硬件相关代码，所以需要区分不同芯片型号
</span></span><span class="line"><span class="cl">│  ├─Bsp			存放供应商和用户的接口函数
</span></span><span class="line"><span class="cl">│  │  └─FR3032D		注意，这里需要定义到芯片的具体型号
</span></span><span class="line"><span class="cl">│  │      ├─inc
</span></span><span class="line"><span class="cl">│  │      └─src
</span></span><span class="line"><span class="cl">│  ├─Cmsis			这里存放和芯片内核文件，如core_cm3.h、cmsis_compile.h等等类似文件
</span></span><span class="line"><span class="cl">│  │  └─FR3032D
</span></span><span class="line"><span class="cl">│  ├─Diagnostics	这里存放诊断相关文件，如UDS
</span></span><span class="line"><span class="cl">│  ├─Scripts		存放脚本相关文件，如sct、icf、bat、py，和工程相关的脚本文件请都放至此处。在Keil中如果使用可视化宏文件请放置此处
</span></span><span class="line"><span class="cl">│  │  └─UDS
</span></span><span class="line"><span class="cl">│  └─Include		存放BSW端的相关宏配置文件及基础类型，如Std_Types.h。
</span></span><span class="line"><span class="cl">│  ├─Drivers		这里存放驱动文件
</span></span><span class="line"><span class="cl">│  │  └─FR3032D
</span></span><span class="line"><span class="cl">│  └─StartUp		这里存放启动文件，如startUp.s等文件
</span></span><span class="line"><span class="cl">│      └─FR3032D
</span></span></code></pre></div><blockquote>
<p>[!tip]</p>
<p>需要考虑的是，是否要增加芯片厂商的文件夹，如ZX/FR3032D，如果要制定芯片厂商，请和plm等保持一致的缩写，如ZX代表智芯</p></blockquote>
<h2 id="boot">
<a class="header-anchor" href="#boot"></a>
BOOT
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─BOOT
</span></span><span class="line"><span class="cl">│  └───BootLoader	存放Boot相关的代码，如控制启动流程等
</span></span><span class="line"><span class="cl">│    	├─inc
</span></span><span class="line"><span class="cl">│    	└─src		
</span></span></code></pre></div><h2 id="documents">
<a class="header-anchor" href="#documents"></a>
Documents
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─Documents		存放和项目相关的手册、点检表、变更履历表，如果要存放过多的文件，请使用文件夹分类，便于查阅
</span></span><span class="line"><span class="cl">│  └─FR3032D	
</span></span></code></pre></div><h2 id="os">
<a class="header-anchor" href="#os"></a>
OS
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─OS		
</span></span><span class="line"><span class="cl">│  ├─FlashDB		文件系统
</span></span><span class="line"><span class="cl">│  │  ├─inc
</span></span><span class="line"><span class="cl">│  │  └─src
</span></span><span class="line"><span class="cl">│  ├─CropFreeRTOS	裁剪的操作系统
</span></span><span class="line"><span class="cl">│  └─FreeRTOS		操作系统
</span></span><span class="line"><span class="cl">│      ├─inc
</span></span><span class="line"><span class="cl">│      └─src
</span></span></code></pre></div><h2 id="output">
<a class="header-anchor" href="#output"></a>
Output
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">├─Output
</span></span><span class="line"><span class="cl">│  ├─Listings	存放链接文件和映射文件，注意该文件夹是软件生成的，在Keil或IAR中设置即可
</span></span><span class="line"><span class="cl">│  ├─Objects	存放中间文件，如o文件、obj文件，该文件夹也是软件自动生成的，需要配置
</span></span></code></pre></div><blockquote>
<p>[!note]</p>
<p>请务必在工程中设置output和listing以保证项目树的整洁性</p></blockquote>
<h2 id="project">
<a class="header-anchor" href="#project"></a>
Project
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">└─Project
</span></span><span class="line"><span class="cl">    ├─KEIL
</span></span><span class="line"><span class="cl">    │  └─RTE
</span></span><span class="line"><span class="cl">    │      └─_blueTooth
</span></span><span class="line"><span class="cl">    ├─SOURCEINSIGHT
</span></span><span class="line"><span class="cl">    │  └─blueTooth.si4project
</span></span><span class="line"><span class="cl">    │      ├─Backup
</span></span><span class="line"><span class="cl">    │      └─cache
</span></span><span class="line"><span class="cl">    │          └─parse
</span></span><span class="line"><span class="cl">    └─VSCODE
</span></span></code></pre></div><blockquote>
<p>[!important]</p>
<p>和项目相关的工程请存放至此，我们常用的工程有：</p>
<ol>
<li>Keil</li>
<li>IAR</li>
<li>SourceInsight</li>
<li>Vscode</li>
<li>TSMaster</li>
<li>Canoe</li>
<li>ZLG</li>
<li>JFLash</li>
<li>QAC</li>
<li>Tessy</li>
</ol></blockquote>
<blockquote>
<p>[!note]</p>
<p>QAC和Tessy的测试输出报告请不要放置Document中，需要存放在Project下的相关文件夹中</p></blockquote>
<h2 id="110-readme">
<a class="header-anchor" href="#110-readme"></a>
1.10 ReadMe
</h2><p>ReadMe文件中用来存放和项目相关教程，如Flash、Ram分布，如何使用函数，当使用的时候需要修改哪些等等。</p>
<blockquote>
<p>[!note]</p>
<p>最好是看完ReadMe就能知道项目怎么配置‼‼‼</p></blockquote>
<h1 id="文件">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6"></a>
文件
</h1><p>文件的命名要准确清晰地表达其内容，同时文件名应该精练，防止文件名过长而造成使用不便。在文件名中可以适当地使用缩写。 以下提供两种命名方式以供参考：</p>
<ol>
<li>
<p>各程序模块的文件命名开头 2 个消协字母代表本模块的功能：如：主控程序为 mpMain.c，mpDisp.c 等。</p>
</li>
<li>
<p>不写模块功能标识：如：主控程序为 Main.c，Disp.c 等。</p>
</li>
</ol>
<h2 id="文件名命名规则">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6%e5%90%8d%e5%91%bd%e5%90%8d%e8%a7%84%e5%88%99"></a>
文件名命名规则
</h2><ol>
<li><strong>模块前缀</strong>：
<ul>
<li>文件名通常以模块或组件的缩写作为前缀，例如：
<ul>
<li><code>Com_</code>：通信栈模块。</li>
<li><code>Dcm_</code>：诊断通信管理模块。</li>
<li><code>EcuM_</code>：ECU状态管理模块。</li>
<li><code>Os_</code>：操作系统模块。</li>
<li><code>BswM_</code>：基础软件管理模块。</li>
</ul>
</li>
</ul>
</li>
<li><strong>文件类型</strong>：
<ul>
<li>文件名中通常包含文件类型的标识，例如：
<ul>
<li><code>_Cfg</code>：配置文件。</li>
<li><code>_Types</code>：类型定义文件。</li>
<li><code>_Api</code>：API接口文件。</li>
<li><code>_Impl</code>：实现文件。</li>
<li><code>_PbCfg</code>：Post-build 配置文件。</li>
</ul>
</li>
</ul>
</li>
<li><strong>文件内容描述</strong>：
<ul>
<li>文件名中应包含文件内容的简要描述，例如：
<ul>
<li><code>ComStack_Types.h</code>：通信栈的类型定义文件。</li>
<li><code>Dcm_Cfg.c</code>：诊断通信管理的配置文件。</li>
</ul>
</li>
</ul>
</li>
<li><strong>文件扩展名</strong>：
<ul>
<li>头文件：<code>.h</code></li>
<li>源文件：<code>.c</code></li>
<li>配置文件：<code>.c</code> 或 <code>.h</code></li>
<li>描述文件：<code>.arxml</code>（AUTOSAR XML 文件）</li>
</ul>
</li>
<li><strong>大小写</strong>：
<ul>
<li>文件名通常采用<strong>驼峰命名法</strong>（CamelCase），首字母大写。</li>
</ul>
</li>
</ol>
<h2 id="命名标准">
<a class="header-anchor" href="#%e5%91%bd%e5%90%8d%e6%a0%87%e5%87%86"></a>
命名标准
</h2><blockquote>
<p>[!important]</p>
<p>请严格遵守以下命名准则书写文件名‼‼‼‼‼</p></blockquote>
<h3 id="通信栈模块com">
<a class="header-anchor" href="#%e9%80%9a%e4%bf%a1%e6%a0%88%e6%a8%a1%e5%9d%97com"></a>
通信栈模块（Com）
</h3><ul>
<li>
<p>类型定义文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">ComStack_Types.h
</span></span></code></pre></div></li>
<li>
<p>配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Com_Cfg.c
</span></span></code></pre></div></li>
<li>
<p>API接口文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Com_Api.h
</span></span></code></pre></div></li>
</ul>
<h3 id="诊断通信管理模块dcm">
<a class="header-anchor" href="#%e8%af%8a%e6%96%ad%e9%80%9a%e4%bf%a1%e7%ae%a1%e7%90%86%e6%a8%a1%e5%9d%97dcm"></a>
诊断通信管理模块（Dcm）
</h3><ul>
<li>
<p>类型定义文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Dcm_Types.h
</span></span></code></pre></div></li>
<li>
<p>配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Dcm_Cfg.c
</span></span></code></pre></div></li>
<li>
<p>实现文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Dcm_Impl.c
</span></span></code></pre></div></li>
</ul>
<h3 id="基础板级支持包bsp">
<a class="header-anchor" href="#%e5%9f%ba%e7%a1%80%e6%9d%bf%e7%ba%a7%e6%94%af%e6%8c%81%e5%8c%85bsp"></a>
基础板级支持包（BSP）
</h3><p>命名规则为:<em>==Bsp_芯片型号 _模块名称==</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Bsp_ZX116_ADC.h
</span></span><span class="line"><span class="cl">Bsp_ZX116_ADC.c
</span></span><span class="line"><span class="cl">Bsp_FR8016H_GPIO.h
</span></span><span class="line"><span class="cl">Bsp_FR8016H_GPIO.c
</span></span></code></pre></div><h3 id="ecu状态管理模块ecum">
<a class="header-anchor" href="#ecu%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%a8%a1%e5%9d%97ecum"></a>
ECU状态管理模块（EcuM）
</h3><ul>
<li>
<p>类型定义文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">EcuM_Types.h
</span></span></code></pre></div></li>
<li>
<p>配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">EcuM_Cfg.c
</span></span></code></pre></div></li>
<li>
<p>API接口文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">EcuM_Api.h
</span></span></code></pre></div></li>
</ul>
<h3 id="操作系统模块os">
<a class="header-anchor" href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e6%a8%a1%e5%9d%97os"></a>
操作系统模块（Os）
</h3><ul>
<li>
<p>类型定义文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Os_Types.h
</span></span></code></pre></div></li>
<li>
<p>配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Os_Cfg.c
</span></span></code></pre></div></li>
<li>
<p>API接口文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Os_Api.h
</span></span></code></pre></div></li>
</ul>
<h3 id="基础软件管理模块bswm">
<a class="header-anchor" href="#%e5%9f%ba%e7%a1%80%e8%bd%af%e4%bb%b6%e7%ae%a1%e7%90%86%e6%a8%a1%e5%9d%97bswm"></a>
基础软件管理模块（BswM）
</h3><ul>
<li>
<p>类型定义文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">BswM_Types.h
</span></span></code></pre></div></li>
<li>
<p>配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">BswM_Cfg.c
</span></span></code></pre></div></li>
<li>
<p>API接口文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">BswM_Api.h
</span></span></code></pre></div></li>
</ul>
<h3 id="非易失性存储管理模块nvm">
<a class="header-anchor" href="#%e9%9d%9e%e6%98%93%e5%a4%b1%e6%80%a7%e5%ad%98%e5%82%a8%e7%ae%a1%e7%90%86%e6%a8%a1%e5%9d%97nvm"></a>
非易失性存储管理模块（Nvm）
</h3><ul>
<li>
<p>类型定义文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Nvm_Types.h
</span></span></code></pre></div></li>
<li>
<p>配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Nvm_Cfg.c
</span></span></code></pre></div></li>
<li>
<p>API接口文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Nvm_Api.h
</span></span></code></pre></div></li>
</ul>
<h3 id="autosar-xml-文件">
<a class="header-anchor" href="#autosar-xml-%e6%96%87%e4%bb%b6"></a>
AUTOSAR XML 文件
</h3><ul>
<li>
<p>系统描述文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">SystemDescription.arxml
</span></span></code></pre></div></li>
<li>
<p>ECU配置描述文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">EcuConfiguration.arxml
</span></span></code></pre></div></li>
</ul>
<h3 id="autosar文件名命名总结">
<a class="header-anchor" href="#autosar%e6%96%87%e4%bb%b6%e5%90%8d%e5%91%bd%e5%90%8d%e6%80%bb%e7%bb%93"></a>
AUTOSAR文件名命名总结
</h3><ol>
<li>
<p><strong>模块前缀</strong>：文件名以模块或组件的缩写作为前缀。</p>
</li>
<li>
<p><strong>文件类型</strong>：文件名中包含文件类型的标识（如 <code>_Cfg</code>、<code>_Types</code>）。</p>
</li>
<li>
<p><strong>文件内容描述</strong>：文件名应简要描述文件内容。</p>
</li>
<li>
<p><strong>文件扩展名</strong>：根据文件类型使用合适的扩展名（如 <code>.h</code>、<code>.c</code>、<code>.arxml</code>）。</p>
</li>
<li>
<p><strong>大小写</strong>：采用驼峰命名法，首字母大写。</p>
</li>
<li>
<p><strong>文件命名规范</strong>
AUTOSAR对文件的命名有严格的规范，以确保文件的可读性和一致性。常见的命名规则包括：
模块名前缀：文件名通常以模块名作为前缀。例如：（如：Dio_Cfg.h：DIO模块的配置文件、Can_PBcfg.c：CAN模块的Post-Build配置文件）</p>
<p>文件类型后缀：文件名中包含文件类型的标识。例如：（<code>_Cfg</code>：表示配置文件、<code>_PBcfg</code>：表示Post-Build配置文、<code>_LCfg</code>：表示Link-Time配置文件。）
版本信息：文件名中可以包含版本号或日期信息，以便于版本管理。</p>
</li>
</ol>
<h2 id="头文件">
<a class="header-anchor" href="#%e5%a4%b4%e6%96%87%e4%bb%b6"></a>
头文件
</h2><p>在写头文件时，可以按照以下的段落排版顺序写：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// 1、文件头注释
</span></span></span><span class="line"><span class="cl"><span class="c1">// 2、防止重复引用头文件的设置
</span></span></span><span class="line"><span class="cl"><span class="c1">// 3、#include 部分
</span></span></span><span class="line"><span class="cl"><span class="c1">// 4、enum 常量声明
</span></span></span><span class="line"><span class="cl"><span class="c1">// 5、类型声明和定义，包括 struct、union、typedef 等
</span></span></span><span class="line"><span class="cl"><span class="c1">// 6、全局变量声明
</span></span></span><span class="line"><span class="cl"><span class="c1">// 7、文件级变量声明
</span></span></span><span class="line"><span class="cl"><span class="c1">// 8、全局或文件级函数声明
</span></span></span><span class="line"><span class="cl"><span class="c1">// 9、函数实现。按函数声明的顺序排列
</span></span></span><span class="line"><span class="cl"><span class="c1">// 10、文件尾注释
</span></span></span></code></pre></div><p>如果使用绝对路径，当需要移动目录时，必须修改所有相关代码，繁琐且不安全；使用相对路径，当需要移动目录时，只需修改<a href="https://marketing.csdn.net/p/3127db09a98e0723b83b2914d9256174?pId=2782&amp;utm_source=glcblog&amp;spm=1001.2101.3001.7020">编译器</a>的某个选项即可。例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">“/project/inc/hello.h” /* 不应使用绝对路径 */</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">“../inc/hello.h”       /* 可以使用相对路径 */=</span><span class="cp">
</span></span></span></code></pre></div><p>在引用头文件时，注意<code>&lt;&gt;</code> <code>“”</code>的区别：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;      /* 标准头文件 */</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;projdefs.h&gt;   /* 工程指定目录头文件 */</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">“global.h”     /* 当前目录头文件 */</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">“inc/config.h” /* 路径相对于当前目录的头文件 */</span><span class="cp">
</span></span></span></code></pre></div><p>在写头文件时要加上条件编译指令以防止头文件被重复引用：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#ifndef __DISP_H /* 文件名前名加两个下划线“__”，后面加 “_H”
</span></span></span><span class="line"><span class="cl"><span class="cp">#define __DISP_H
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span></code></pre></div><p>在头文件中只存放申明而不存放定义</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/*模块1头文件：nodule1.h*/</span>
</span></span><span class="line"><span class="cl"><span class="k">extern</span> <span class="kt">int</span> <span class="n">a</span> <span class="mi">5</span><span class="p">;</span>	<span class="cm">/*在模块1的.h文件中声明变量*/</span>
</span></span></code></pre></div><p>并且文件的长度没有非常严格的要求，但应避免文件过长，一般来说，文件长度应尽量保持在1000行之内。</p>
<blockquote>
<p>[!important]</p>
<p>尽量使用模板自动配置，具体配置见<code>4.5</code>，使用软件自动配置管理不仅可以节约时间，也可保持一致性。</p></blockquote>
<h1 id="排版">
<a class="header-anchor" href="#%e6%8e%92%e7%89%88"></a>
排版
</h1><h2 id="缩进与对齐">
<a class="header-anchor" href="#%e7%bc%a9%e8%bf%9b%e4%b8%8e%e5%af%b9%e9%bd%90"></a>
缩进与对齐
</h2><h3 id="缩进">
<a class="header-anchor" href="#%e7%bc%a9%e8%bf%9b"></a>
缩进
</h3><ul>
<li>使用 <strong>4 个空格</strong> 进行缩进，禁止使用 Tab（如果要使用Tab键，请确保一个Tab等于4个空格）。</li>
<li>缩进应清晰反映代码的层次结构。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Function</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Code block
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="对齐">
<a class="header-anchor" href="#%e5%af%b9%e9%bd%90"></a>
对齐
</h3><ul>
<li>括号 <code>{}</code> 应独占一行，并与上一行的代码对齐。</li>
<li>代码块内的语句应对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nf">DoAnotherThing</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">DoElseThing</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="行长度与换行">
<a class="header-anchor" href="#%e8%a1%8c%e9%95%bf%e5%ba%a6%e4%b8%8e%e6%8d%a2%e8%a1%8c"></a>
行长度与换行
</h2><h3 id="行长度">
<a class="header-anchor" href="#%e8%a1%8c%e9%95%bf%e5%ba%a6"></a>
行长度
</h3><ul>
<li>每行代码不应超过 <strong>120 个字符</strong>。</li>
<li>如果一行代码过长，应将其拆分为多行。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">uint8</span> <span class="n">result</span> <span class="o">=</span> <span class="nf">FunctionWithManyParameters</span><span class="p">(</span><span class="n">parameter1</span><span class="p">,</span> <span class="n">parameter2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                          <span class="n">parameter3</span><span class="p">,</span> <span class="n">parameter4</span><span class="p">);</span>
</span></span></code></pre></div><h3 id="换行规则">
<a class="header-anchor" href="#%e6%8d%a2%e8%a1%8c%e8%a7%84%e5%88%99"></a>
换行规则
</h3><ul>
<li>在运算符后换行，保持运算符在行尾。</li>
<li>换行后应对齐到上一行的起始位置或适当缩进。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">uint8</span> <span class="n">result</span> <span class="o">=</span> <span class="n">value1</span> <span class="o">+</span> <span class="n">value2</span> <span class="o">+</span> <span class="n">value3</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">               <span class="n">value4</span> <span class="o">+</span> <span class="n">value5</span><span class="p">;</span>
</span></span></code></pre></div><h2 id="空格与空行">
<a class="header-anchor" href="#%e7%a9%ba%e6%a0%bc%e4%b8%8e%e7%a9%ba%e8%a1%8c"></a>
空格与空行
</h2><h3 id="空格">
<a class="header-anchor" href="#%e7%a9%ba%e6%a0%bc"></a>
空格
</h3><ul>
<li>在运算符两侧添加空格。</li>
<li>在逗号后添加空格。</li>
<li>在关键字后添加空格。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">uint8</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">value1</span> <span class="o">+</span> <span class="n">value2</span><span class="p">)</span> <span class="o">*</span> <span class="n">value3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="n">uint8</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Code block
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h3 id="空行">
<a class="header-anchor" href="#%e7%a9%ba%e8%a1%8c"></a>
空行
</h3><ul>
<li>在函数之间添加空行，以分隔不同的代码块。</li>
<li>在逻辑相关的代码块之间添加空行，以提高可读性。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Function1</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Code block
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Function2</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Code block
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h2 id="括号与分号">
<a class="header-anchor" href="#%e6%8b%ac%e5%8f%b7%e4%b8%8e%e5%88%86%e5%8f%b7"></a>
括号与分号
</h2><h3 id="括号">
<a class="header-anchor" href="#%e6%8b%ac%e5%8f%b7"></a>
括号
</h3><ul>
<li>括号 <code>{}</code> 应独占一行，并与上一行的代码对齐。</li>
<li>即使代码块只有一行，也应使用括号。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="分号">
<a class="header-anchor" href="#%e5%88%86%e5%8f%b7"></a>
分号
</h3><ul>
<li>每个语句应以分号 <code>;</code> 结尾。</li>
<li>分号前不应有空格。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">uint8</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nf">DoSomething</span><span class="p">();</span>
</span></span></code></pre></div><h2 id="注释格式">
<a class="header-anchor" href="#%e6%b3%a8%e9%87%8a%e6%a0%bc%e5%bc%8f"></a>
注释格式
</h2><h3 id="单行注释">
<a class="header-anchor" href="#%e5%8d%95%e8%a1%8c%e6%b3%a8%e9%87%8a"></a>
单行注释
</h3><ul>
<li>使用 <code>//</code> 进行单行注释。</li>
<li>注释应与代码对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">uint8</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">// Initialize value
</span></span></span></code></pre></div><h3 id="多行注释">
<a class="header-anchor" href="#%e5%a4%9a%e8%a1%8c%e6%b3%a8%e9%87%8a"></a>
多行注释
</h3><ul>
<li>使用 <code>/* ... */</code> 进行多行注释。</li>
<li>注释内容应清晰、简洁。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm"> * This is a multi-line comment.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * It provides additional information about the code.
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span></code></pre></div><h2 id="函数排版">
<a class="header-anchor" href="#%e5%87%bd%e6%95%b0%e6%8e%92%e7%89%88"></a>
函数排版
</h2><h3 id="函数声明">
<a class="header-anchor" href="#%e5%87%bd%e6%95%b0%e5%a3%b0%e6%98%8e"></a>
函数声明
</h3><ul>
<li>函数声明应包含返回值类型、函数名和参数列表。</li>
<li>参数列表应换行对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">FunctionName</span><span class="p">(</span><span class="n">uint8</span> <span class="n">parameter1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="n">uint8</span> <span class="n">parameter2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="n">uint8</span> <span class="n">parameter3</span><span class="p">);</span>
</span></span></code></pre></div><h3 id="函数定义">
<a class="header-anchor" href="#%e5%87%bd%e6%95%b0%e5%ae%9a%e4%b9%89"></a>
函数定义
</h3><ul>
<li>函数定义应包含详细的注释，描述其功能、参数和返回值。</li>
<li>函数体应缩进 4 个空格。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Function: FunctionName
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: This function does something.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Parameters:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - parameter1: Description of parameter1.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - parameter2: Description of parameter2.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Return: E_OK if successful, E_NOT_OK otherwise.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">FunctionName</span><span class="p">(</span><span class="n">uint8</span> <span class="n">parameter1</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">parameter2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Function body
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">DoSomething</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">E_OK</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="结构体与枚举排版">
<a class="header-anchor" href="#%e7%bb%93%e6%9e%84%e4%bd%93%e4%b8%8e%e6%9e%9a%e4%b8%be%e6%8e%92%e7%89%88"></a>
结构体与枚举排版
</h2><h3 id="结构体">
<a class="header-anchor" href="#%e7%bb%93%e6%9e%84%e4%bd%93"></a>
结构体
</h3><ul>
<li>结构体定义应包含详细的注释，说明其用途和成员的含义。</li>
<li>结构体成员应对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Structure: CanMessage_t
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: Represents a CAN message.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Members:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - id: The CAN message ID.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - data: The CAN message data.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - length: The length of the CAN message data.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">id</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="n">CanMessage_t</span><span class="p">;</span>
</span></span></code></pre></div><h3 id="枚举">
<a class="header-anchor" href="#%e6%9e%9a%e4%b8%be"></a>
枚举
</h3><ul>
<li>枚举定义应包含详细的注释，说明其用途和枚举值的含义。</li>
<li>枚举值应对齐。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Enum: CanState_t
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: Represents the state of the CAN controller.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Values:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - CAN_STATE_UNINIT: CAN controller is uninitialized.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - CAN_STATE_READY: CAN controller is ready.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - CAN_STATE_ERROR: CAN controller is in error state.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">enum</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">CAN_STATE_UNINIT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">CAN_STATE_READY</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">CAN_STATE_ERROR</span>  <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="n">CanState_t</span><span class="p">;</span>
</span></span></code></pre></div><h1 id="注释">
<a class="header-anchor" href="#%e6%b3%a8%e9%87%8a"></a>
注释
</h1><h2 id="文件注释规范">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6%e6%b3%a8%e9%87%8a%e8%a7%84%e8%8c%83"></a>
文件注释规范
</h2><h3 id="文件头注释">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6%e5%a4%b4%e6%b3%a8%e9%87%8a"></a>
文件头注释
</h3><p>每个文件（包括 <code>.c</code> 和 <code>.h</code> 文件）应包含文件头注释，通常包括以下内容：</p>
<ol>
<li><strong>文件名</strong>：文件的名称。</li>
<li><strong>描述</strong>：文件的简要功能描述。</li>
<li><strong>作者</strong>：文件的作者或开发者。</li>
<li><strong>版本</strong>：文件的版本号。</li>
<li><strong>日期</strong>：文件的创建或修改日期。</li>
<li><strong>版权声明</strong>：文件的版权信息。</li>
</ol>
<h3 id="注释格式-1">
<a class="header-anchor" href="#%e6%b3%a8%e9%87%8a%e6%a0%bc%e5%bc%8f-1"></a>
注释格式
</h3><ul>
<li>使用 <code>/* ... */</code> 进行多行注释。</li>
<li>注释内容应清晰、简洁，避免冗余信息。</li>
</ul>
<h2 id="文件头注释示例">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6%e5%a4%b4%e6%b3%a8%e9%87%8a%e7%a4%ba%e4%be%8b"></a>
文件头注释示例
</h2><h3 id="c-文件注释">
<a class="header-anchor" href="#c-%e6%96%87%e4%bb%b6%e6%b3%a8%e9%87%8a"></a>
<code>.c</code> 文件注释
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * File: Can_Driver.c
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: CAN driver implementation for AUTOSAR.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Author: John Doe
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Version: 1.0
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Date: 2023-10-01
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Copyright: (c) 2023 by Company Name. All rights reserved.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span></code></pre></div><h3 id="h-文件注释">
<a class="header-anchor" href="#h-%e6%96%87%e4%bb%b6%e6%b3%a8%e9%87%8a"></a>
<code>.h</code> 文件注释
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * File: Can_Driver.h
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: CAN driver interface for AUTOSAR.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Author: John Doe
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Version: 1.0
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Date: 2023-10-01
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Copyright: (c) 2023 by Company Name. All rights reserved.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span></code></pre></div><hr>
<h2 id="文件内容注释">
<a class="header-anchor" href="#%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9%e6%b3%a8%e9%87%8a"></a>
文件内容注释
</h2><h3 id="模块注释">
<a class="header-anchor" href="#%e6%a8%a1%e5%9d%97%e6%b3%a8%e9%87%8a"></a>
模块注释
</h3><p>在文件的开头，添加模块的详细描述，说明模块的功能、依赖关系和设计思路。</p>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Module: CAN Driver
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: This module implements the CAN driver for AUTOSAR. It provides
</span></span></span><span class="line"><span class="cl"><span class="cm"> *              functions for initializing the CAN controller, sending and
</span></span></span><span class="line"><span class="cl"><span class="cm"> *              receiving CAN messages.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Dependencies:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - Std_Types.h: Standard type definitions.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - Can_GeneralTypes.h: CAN module type definitions.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Design Notes:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - The driver supports CAN 2.0A and 2.0B frames.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - Error handling is implemented for invalid inputs and hardware errors.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span></code></pre></div><h3 id="函数注释">
<a class="header-anchor" href="#%e5%87%bd%e6%95%b0%e6%b3%a8%e9%87%8a"></a>
函数注释
</h3><p>每个函数应包含详细的注释，描述其功能、参数和返回值。</p>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Function: Can_Init
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: Initializes the CAN controller and configures the baud rate.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Parameters:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - None
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Return:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - E_OK: Initialization successful.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - E_NOT_OK: Initialization failed.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div><h3 id="结构体和枚举注释">
<a class="header-anchor" href="#%e7%bb%93%e6%9e%84%e4%bd%93%e5%92%8c%e6%9e%9a%e4%b8%be%e6%b3%a8%e9%87%8a"></a>
结构体和枚举注释
</h3><p>为结构体和枚举类型添加注释，说明其用途和成员的含义。</p>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Structure: CanMessage_t
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Description: Represents a CAN message with ID, data, and length.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Members:
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - id: The CAN message ID.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - data: The CAN message data (up to 8 bytes).
</span></span></span><span class="line"><span class="cl"><span class="cm"> *   - length: The length of the CAN message data.
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">id</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="n">CanMessage_t</span><span class="p">;</span>
</span></span></code></pre></div><hr>
<h2 id="其他注释">
<a class="header-anchor" href="#%e5%85%b6%e4%bb%96%e6%b3%a8%e9%87%8a"></a>
其他注释
</h2><h3 id="代码块注释">
<a class="header-anchor" href="#%e4%bb%a3%e7%a0%81%e5%9d%97%e6%b3%a8%e9%87%8a"></a>
代码块注释
</h3><p>在复杂的代码块前添加注释，解释其逻辑和实现思路。</p>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// Check if the CAN message is valid
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">if</span> <span class="p">((</span><span class="n">message</span><span class="p">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="n">length</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Process the CAN message
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h3 id="修改记录">
<a class="header-anchor" href="#%e4%bf%ae%e6%94%b9%e8%ae%b0%e5%bd%95"></a>
修改记录
</h3><p>在文件的末尾或注释中添加修改记录，记录每次修改的内容、作者和日期。</p>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/******************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Modification History:
</span></span></span><span class="line"><span class="cl"><span class="cm"> * - 2023-10-01: Version 1.0 by John Doe (Initial implementation).
</span></span></span><span class="line"><span class="cl"><span class="cm"> * - 2023-10-05: Version 1.1 by Jane Smith (Added error handling).
</span></span></span><span class="line"><span class="cl"><span class="cm"> ******************************************************************************/</span>
</span></span></code></pre></div><h2 id="软件配置">
<a class="header-anchor" href="#%e8%bd%af%e4%bb%b6%e9%85%8d%e7%bd%ae"></a>
软件配置
</h2><h3 id="vscode">
<a class="header-anchor" href="#vscode"></a>
Vscode
</h3><p>下载<code>C/C++ Snippets</code>插件，上网查询相关配置，该插件用于对代码进行位置分布做限定，参考配置如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;resource files&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;prefix&#34;</span><span class="p">:</span> <span class="s2">&#34;.chinit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;body&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                             Includes                             =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======               Defines &amp; Macros for General Purpose               =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                        Constants &amp; Types                         =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                        Global variables                          =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                        Local variables                           =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                        Global Function                           =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                        Local Function                            =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                    Function Implement List                       =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;use to c files&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;header files&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;prefix&#34;</span><span class="p">:</span> <span class="s2">&#34;.hhinit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;body&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;#ifndef ${1:${TM_FILENAME/(.*)\\.h$/${1:/upcase}_H/i}}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;#define $1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;\n${2:#ifdef __cplusplus&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;extern \&#34;C\&#34;{&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;#endif}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                             INCLUDES                             =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======               DEFINES &amp; MACROS FOR GENERAL PURPOSE               =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                        CONSTANTS &amp; TYPES                         =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                             EXPORTS                              =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*==============================================================================&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;=======                  PROTOTYPES OF PUBLIC FUNCTIONS                  =======&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;==============================================================================*/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;#ifdef __cplusplus&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;#endif&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;#endif\t/* $1 */\n&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Avoid Repetition&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;line&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;prefix&#34;</span><span class="p">:</span> <span class="s2">&#34;.line&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;body&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;/*************************************** ${xxx} ****************************************/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Avoid Repetition&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>下载<code>KoroFileHeader</code>插件，该配置用于生成头部申明和函数注释参考配置如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;fileheader.customMade&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Author字段是文件的创建者 可以在specialOptions中更改特殊属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 公司项目和个人项目可以配置不同的用户名与邮箱 搜索: gitconfig includeIf  比如: https://ayase.moe/2021/03/09/customized-git-config/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 自动提取当前git config中的: 用户名、邮箱
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;Author&#34;</span><span class="p">:</span> <span class="s2">&#34;git config user.name &amp;&amp; git config user.email&#34;</span><span class="p">,</span> <span class="c1">// 同时获取用户名与邮箱
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// &#34;Author&#34;: &#34;git config user.name&#34;, // 仅获取用户名
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// &#34;Author&#34;: &#34;git config user.email&#34;, // 仅获取邮箱
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// &#34;Author&#34;: &#34;OBKoro1&#34;, // 写死的固定值 不从git config中获取
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;Date&#34;</span><span class="p">:</span> <span class="s2">&#34;Do not edit&#34;</span><span class="p">,</span> <span class="c1">// 文件创建时间(不变)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// LastEditors、LastEditTime、FilePath将会自动更新 如果觉得时间更新的太频繁可以使用throttleTime(默认为1分钟)配置更改更新时间。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;LastEditors&#34;</span><span class="p">:</span> <span class="s2">&#34;git config user.name &amp;&amp; git config user.email&#34;</span><span class="p">,</span> <span class="c1">// 文件最后编辑者 与Author字段一致
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 由于编辑文件就会变更最后编辑时间，多人协作中合并的时候会导致merge
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 可以将时间颗粒度改为周、或者月，这样冲突就减少很多。搜索变更时间格式: dateFormat
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;LastEditTime&#34;</span><span class="p">:</span> <span class="s2">&#34;Do not edit&#34;</span><span class="p">,</span> <span class="c1">// 文件最后编辑时间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 输出相对路径，类似: /文件夹名称/src/index.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;FilePath&#34;</span><span class="p">:</span> <span class="s2">&#34;Do not edit&#34;</span><span class="p">,</span> <span class="c1">// 文件在项目中的相对路径 自动更新
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 插件会自动将光标移动到Description选项中 方便输入 Description字段可以在specialOptions更改
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;Description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="c1">// 介绍文件的作用、文件的入参、出参。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// custom_string_obkoro1~custom_string_obkoro100都可以输出自定义信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 可以设置多条自定义信息 设置个性签名、留下QQ、微信联系方式、输入空行等
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;custom_string_obkoro1&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 版权声明 保留文件所有权利 自动替换年份 获取git配置的用户名和邮箱
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 版权声明获取git配置, 与Author字段一致: ${git_name} ${git_email} ${git_name_email}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;custom_string_obkoro1_copyright&#34;</span><span class="p">:</span> <span class="s2">&#34;Copyright (c) ${now_year} by Yasid, All Rights Reserved. &#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// &#34;custom_string_obkoro1_copyright&#34;: &#34;Copyright (c) ${now_year} by 写死的公司名/用户名, All Rights Reserved. &#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="err">,</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;fileheader.cursorMode&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="c1">// 函数注释生成之后，光标移动到这里
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;param&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="c1">// param 开启函数参数自动提取 需要将光标放在函数行或者函数上方的空白行
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;return&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span></code></pre></div><p>最终效果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @Author: ryf 1815338123@qq.com
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @Date: 2025-01-13 15:08:15
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @LastEditors: ryf 1815338123@qq.com
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @LastEditTime: 2025-01-13 16:54:04
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @FilePath: \Bluetooth\BSW\Bsp\FR8016H\src\Bsp_Api.c
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @Description: 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Copyright (c) 2025 by Yasid, All Rights Reserved. 
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                             Includes                             =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;driver_gpio.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======               Defines &amp; Macros for General Purpose               =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                        Constants &amp; Types                         =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                        Global variables                          =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                        Local variables                           =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                        Global Function                           =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                        Local Function                            =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*==============================================================================
</span></span></span><span class="line"><span class="cl"><span class="cm">=======                    Function Implement List                       =======
</span></span></span><span class="line"><span class="cl"><span class="cm">==============================================================================*/</span>
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @description: 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return {*}
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspGpio_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">system_setport_mux</span><span class="p">(</span><span class="n">GPIO_PORT_A</span><span class="p">,</span> <span class="n">GPIO_BIT_5</span><span class="p">,</span><span class="n">PORTA5_FUNC_A5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">gpio_set_dir</span><span class="p">(</span><span class="n">GPIO_PORT_A</span><span class="p">,</span> <span class="n">GPIO_BIT_5</span><span class="p">,</span> <span class="n">GPIO_DIR_OUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h1 id="变量">
<a class="header-anchor" href="#%e5%8f%98%e9%87%8f"></a>
变量
</h1><p>变量类型的定义遵循严格的规范，以确保代码的可移植性、可读性和一致性。本规范定义了一套标准的数据类型，这些数据类型通常通过<strong>标准化类型定义文件</strong>（如 <code>Std_Types.h</code>）来实现。变量类型的前缀缩写用于标识变量的用途、模块或功能域。这些前缀缩写有助于提高代码的可读性和可维护性，同时确保变量命名的一致性和规范性。</p>
<h2 id="常见变量类型前缀缩写">
<a class="header-anchor" href="#%e5%b8%b8%e8%a7%81%e5%8f%98%e9%87%8f%e7%b1%bb%e5%9e%8b%e5%89%8d%e7%bc%80%e7%bc%a9%e5%86%99"></a>
常见变量类型前缀缩写
</h2><table>
  <thead>
      <tr>
          <th style="text-align: center"><strong>前缀缩写</strong></th>
          <th style="text-align: center"><strong>含义</strong></th>
          <th style="text-align: left"><strong>示例</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center"><strong>u</strong></td>
          <td style="text-align: center">无符号（unsigned）</td>
          <td style="text-align: left"><code>uint8</code>：无符号8位整数；<code>uint16</code>：无符号16位整数。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>s</strong></td>
          <td style="text-align: center">有符号（signed）</td>
          <td style="text-align: left"><code>sint8</code>：有符号8位整数；<code>sint16</code>：有符号16位整数。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>f</strong></td>
          <td style="text-align: center">浮点数（float）</td>
          <td style="text-align: left"><code>float32</code>：32位浮点数；<code>float64</code>：64位浮点数。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>p</strong></td>
          <td style="text-align: center">指针（pointer）</td>
          <td style="text-align: left"><code>pBuf</code>：指向缓冲区的指针；<code>pData</code>：指向数据的指针。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>a</strong></td>
          <td style="text-align: center">数组（array）</td>
          <td style="text-align: left"><code>aSignal</code>：信号数组；<code>aData</code>：数据数组。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>b</strong></td>
          <td style="text-align: center">布尔（boolean）</td>
          <td style="text-align: left"><code>bFlag</code>：布尔标志；<code>bStatus</code>：布尔状态。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>e</strong></td>
          <td style="text-align: center">枚举（enumeration）</td>
          <td style="text-align: left"><code>eState</code>：状态枚举；<code>eMode</code>：模式枚举。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>t</strong></td>
          <td style="text-align: center">结构体（struct）或类型（type）</td>
          <td style="text-align: left"><code>tConfig</code>：配置结构体；<code>tData</code>：数据结构体。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>n</strong></td>
          <td style="text-align: center">数量（number）或计数器（counter）</td>
          <td style="text-align: left"><code>nCount</code>：计数器；<code>nSize</code>：大小。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>c</strong></td>
          <td style="text-align: center">常量（constant）</td>
          <td style="text-align: left"><code>cMaxValue</code>：最大值常量；<code>cMinValue</code>：最小值常量。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>k</strong></td>
          <td style="text-align: center">配置常量（configuration constant）</td>
          <td style="text-align: left"><code>kConfigParam</code>：配置参数常量。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>g</strong></td>
          <td style="text-align: center">全局变量（global）</td>
          <td style="text-align: left"><code>gState</code>：全局状态；<code>gData</code>：全局数据。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>m</strong></td>
          <td style="text-align: center">模块内部变量（module internal）</td>
          <td style="text-align: left"><code>mInternalData</code>：模块内部数据；<code>mState</code>：模块内部状态。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>r</strong></td>
          <td style="text-align: center">引用（reference）</td>
          <td style="text-align: left"><code>rData</code>：数据引用；<code>rConfig</code>：配置引用。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>h</strong></td>
          <td style="text-align: center">句柄（handle）</td>
          <td style="text-align: left"><code>hModule</code>：模块句柄；<code>hResource</code>：资源句柄。</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>x</strong></td>
          <td style="text-align: center">扩展类型（extended type）或复杂类型</td>
          <td style="text-align: left"><code>xComplexData</code>：复杂数据类型；<code>xExtendedConfig</code>：扩展配置类型。</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>[!important]</p>
<p>不同的长度可以使用组合，如无符号的8位前缀则表示为<code>u8</code>，常用的前缀位数有：</p>
<ol>
<li>8</li>
<li>16</li>
<li>32</li>
<li>64</li>
</ol>
<p>组合的顺序为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[作用域前缀][数据类型前缀]_[变量含义]
</span></span></code></pre></div><p>作用域前缀可选：</p>
<table>
  <thead>
      <tr>
          <th>前缀</th>
          <th>含义</th>
          <th>示例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>g</td>
          <td>全局变量(extern修饰或在c文件定义的全局变量且没有static修饰)</td>
          <td>gu8Counter</td>
      </tr>
      <tr>
          <td>m</td>
          <td>模块级静态变量（文件中使用static定义的变量）</td>
          <td>mu8Counter</td>
      </tr>
      <tr>
          <td>p</td>
          <td>指针类型</td>
          <td>pu8Counter</td>
      </tr>
      <tr>
          <td>无</td>
          <td>局部变量（函数中的变量、形参。结构体中的变量）</td>
          <td>u8Counter</td>
      </tr>
  </tbody>
</table>
<p>==注意p可以和m或g组合，组合顺序为先g或m，之后再加p。g和m互斥，也就是说前缀可以是mp、gp，但不可以g和m同时出现，如gmp。==</p>
<p>例子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_test</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">u8Counter</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span><span class="o">*</span> <span class="n">pu8Counter</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="n">Test_t</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="n">uint16</span> <span class="n">mu16Counter</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">uint16</span><span class="o">*</span> <span class="n">gpu16Counter</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Test_t</span> <span class="n">gtCounter</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Func</span><span class="p">(</span><span class="n">uint8</span> <span class="n">u8Counter</span><span class="p">,</span><span class="n">uint8</span><span class="o">*</span> <span class="n">pu8Counter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">sint8</span> <span class="n">s8Test</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">gtCounter</span><span class="p">.</span><span class="n">u8Counter</span> <span class="o">=</span> <span class="n">u8Counter</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">gtCounter</span><span class="p">.</span><span class="n">pu8Counter</span> <span class="o">=</span> <span class="n">pu8Counter</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></blockquote>
<h2 id="模块相关变量前缀缩写">
<a class="header-anchor" href="#%e6%a8%a1%e5%9d%97%e7%9b%b8%e5%85%b3%e5%8f%98%e9%87%8f%e5%89%8d%e7%bc%80%e7%bc%a9%e5%86%99"></a>
模块相关变量前缀缩写
</h2><p>除了通用的变量前缀缩写，还有一些与模块相关的变量前缀缩写：</p>
<table>
  <thead>
      <tr>
          <th><strong>前缀缩写</strong></th>
          <th><strong>模块/功能域</strong></th>
          <th><strong>示例</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Com_</strong></td>
          <td>通信栈（Communication Stack）</td>
          <td><code>Com_Signal</code>：通信信号；<code>Com_Pdu</code>：通信PDU。</td>
      </tr>
      <tr>
          <td><strong>Pdu_</strong></td>
          <td>协议数据单元（Protocol Data Unit）</td>
          <td><code>Pdu_Info</code>：PDU信息；<code>Pdu_Length</code>：PDU长度。</td>
      </tr>
      <tr>
          <td><strong>Can_</strong></td>
          <td>CAN通信模块（CAN Driver）</td>
          <td><code>Can_Pdu</code>：CAN PDU；<code>Can_State</code>：CAN状态。</td>
      </tr>
      <tr>
          <td><strong>Lin_</strong></td>
          <td>LIN通信模块（LIN Driver）</td>
          <td><code>Lin_Pdu</code>：LIN PDU；<code>Lin_Config</code>：LIN配置。</td>
      </tr>
      <tr>
          <td><strong>Eth_</strong></td>
          <td>以太网通信模块（Ethernet Driver）</td>
          <td><code>Eth_Frame</code>：以太网帧；<code>Eth_Config</code>：以太网配置。</td>
      </tr>
      <tr>
          <td><strong>Dcm_</strong></td>
          <td>诊断通信管理（Diagnostic Communication Manager）</td>
          <td><code>Dcm_Request</code>：诊断请求；<code>Dcm_Response</code>：诊断响应。</td>
      </tr>
      <tr>
          <td><strong>Dem_</strong></td>
          <td>诊断事件管理（Diagnostic Event Manager）</td>
          <td><code>Dem_Event</code>：诊断事件；<code>Dem_Status</code>：诊断状态。</td>
      </tr>
      <tr>
          <td><strong>Nvm_</strong></td>
          <td>非易失性存储管理（NVRAM Manager）</td>
          <td><code>Nvm_Block</code>：NVM块；<code>Nvm_Data</code>：NVM数据。</td>
      </tr>
      <tr>
          <td><strong>EcuM_</strong></td>
          <td>ECU状态管理（ECU Manager）</td>
          <td><code>EcuM_State</code>：ECU状态；<code>EcuM_Mode</code>：ECU模式。</td>
      </tr>
      <tr>
          <td><strong>BswM_</strong></td>
          <td>基础软件管理（Basic Software Manager）</td>
          <td><code>BswM_Mode</code>：BSW模式；<code>BswM_State</code>：BSW状态。</td>
      </tr>
      <tr>
          <td><strong>Os_</strong></td>
          <td>操作系统（Operating System）</td>
          <td><code>Os_Task</code>：OS任务；<code>Os_Alarm</code>：OS报警。</td>
      </tr>
      <tr>
          <td><strong>SchM_</strong></td>
          <td>调度管理（Scheduler Manager）</td>
          <td><code>SchM_Task</code>：调度任务；<code>SchM_Config</code>：调度配置。</td>
      </tr>
      <tr>
          <td><strong>Wdg_</strong></td>
          <td>看门狗管理（Watchdog Manager）</td>
          <td><code>Wdg_Mode</code>：看门狗模式；<code>Wdg_Config</code>：看门狗配置。</td>
      </tr>
      <tr>
          <td><strong>Adc_</strong></td>
          <td>模拟数字转换（ADC Driver）</td>
          <td><code>Adc_Channel</code>：ADC通道；<code>Adc_Value</code>：ADC值。</td>
      </tr>
      <tr>
          <td><strong>Gpt_</strong></td>
          <td>通用定时器（General Purpose Timer）</td>
          <td><code>Gpt_Channel</code>：GPT通道；<code>Gpt_Config</code>：GPT配置。</td>
      </tr>
      <tr>
          <td><strong>Mcu_</strong></td>
          <td>微控制器驱动（Microcontroller Driver）</td>
          <td><code>Mcu_Mode</code>：MCU模式；<code>Mcu_Config</code>：MCU配置。</td>
      </tr>
      <tr>
          <td><strong>Port_</strong></td>
          <td>端口驱动（Port Driver）</td>
          <td><code>Port_Pin</code>：端口引脚；<code>Port_Config</code>：端口配置。</td>
      </tr>
      <tr>
          <td><strong>Dio_</strong></td>
          <td>数字输入输出（Digital I/O Driver）</td>
          <td><code>Dio_Channel</code>：DIO通道；<code>Dio_Config</code>：DIO配置。</td>
      </tr>
      <tr>
          <td><strong>Pwm_</strong></td>
          <td>脉宽调制（PWM Driver）</td>
          <td><code>Pwm_Channel</code>：PWM通道；<code>Pwm_Config</code>：PWM配置。</td>
      </tr>
      <tr>
          <td><strong>Icu_</strong></td>
          <td>输入捕获单元（Input Capture Unit）</td>
          <td><code>Icu_Channel</code>：ICU通道；<code>Icu_Config</code>：ICU配置。</td>
      </tr>
      <tr>
          <td><strong>Rte_</strong></td>
          <td>运行时环境（Runtime Environment）</td>
          <td><code>Rte_Instance</code>：RTE实例；<code>Rte_Config</code>：RTE配置。</td>
      </tr>
  </tbody>
</table>
<h3 id="基本数据类型">
<a class="header-anchor" href="#%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b"></a>
基本数据类型
</h3><p>在 <code>Std_Types.h</code> 中定义的标准基本数据类型：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>         <span class="n">uint8</span><span class="p">;</span>      <span class="c1">// 无符号8位整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">char</span>           <span class="n">sint8</span><span class="p">;</span>      <span class="c1">// 有符号8位整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">short</span>        <span class="n">uint16</span><span class="p">;</span>     <span class="c1">// 无符号16位整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">short</span>          <span class="n">sint16</span><span class="p">;</span>     <span class="c1">// 有符号16位整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span>         <span class="n">uint32</span><span class="p">;</span>     <span class="c1">// 无符号32位整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">long</span>           <span class="n">sint32</span><span class="p">;</span>     <span class="c1">// 有符号32位整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">float</span>                 <span class="n">float32</span><span class="p">;</span>    <span class="c1">// 32位浮点数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">double</span>                <span class="n">float64</span><span class="p">;</span>    <span class="c1">// 64位浮点数
</span></span></span></code></pre></div><h3 id="布尔类型">
<a class="header-anchor" href="#%e5%b8%83%e5%b0%94%e7%b1%bb%e5%9e%8b"></a>
布尔类型
</h3><p>AUTOSAR定义了标准的布尔类型：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>         <span class="n">boolean</span><span class="p">;</span>    <span class="c1">// 布尔类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define TRUE                  ((boolean)1)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define FALSE                 ((boolean)0)
</span></span></span></code></pre></div><h3 id="状态类型">
<a class="header-anchor" href="#%e7%8a%b6%e6%80%81%e7%b1%bb%e5%9e%8b"></a>
状态类型
</h3><p>AUTOSAR定义了标准的状态类型：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="n">uint8</span> <span class="n">Std_ReturnType</span><span class="p">;</span>             <span class="c1">// 标准返回类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define E_OK        ((Std_ReturnType)0)   </span><span class="c1">// 操作成功
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define E_NOT_OK    ((Std_ReturnType)1)   </span><span class="c1">// 操作失败
</span></span></span></code></pre></div><h3 id="复合数据类型">
<a class="header-anchor" href="#%e5%a4%8d%e5%90%88%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b"></a>
复合数据类型
</h3><p>复合数据类型（如结构体、枚举）通常用于表示复杂的数据结构。</p>
<ul>
<li>
<p><strong>结构体示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">channelState</span><span class="p">;</span>  <span class="c1">// 通道状态
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">uint8</span> <span class="n">channelId</span><span class="p">;</span>     <span class="c1">// 通道ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span> <span class="n">ComM_Channel_t</span><span class="p">;</span>      <span class="c1">// 通信管理模块的通道类型
</span></span></span></code></pre></div></li>
<li>
<p><strong>枚举示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">COM_M_CHANNEL_INACTIVE</span><span class="p">,</span>  <span class="c1">// 通道未激活
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">COM_M_CHANNEL_ACTIVE</span>     <span class="c1">// 通道激活
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span> <span class="n">ComM_ChannelState_e</span><span class="p">;</span>     <span class="c1">// 通信管理模块的通道状态类型
</span></span></span></code></pre></div></li>
</ul>
<h3 id="指针类型">
<a class="header-anchor" href="#%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b"></a>
指针类型
</h3><p>AUTOSAR中通常使用标准化的指针类型：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">Ptr_u8</span><span class="p">;</span>        <span class="c1">// 指向uint8的指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="k">const</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">Ptr_const_u8</span><span class="p">;</span>  <span class="c1">// 指向const uint8的指针
</span></span></span></code></pre></div><h3 id="数组类型">
<a class="header-anchor" href="#%e6%95%b0%e7%bb%84%e7%b1%bb%e5%9e%8b"></a>
数组类型
</h3><p>数组类型通常用于表示一组相同类型的数据：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="n">uint8</span> <span class="n">Com_SignalArrayType</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>  <span class="c1">// 通信信号数组类型
</span></span></span></code></pre></div><p>常量、宏、模版的名字应该全部大写。如果这些名字由多个单词组成，则单词之间用下划线分隔。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#define LOG_BUF_SIZE 8000
</span></span></span></code></pre></div><h2 id="配置头文件">
<a class="header-anchor" href="#%e9%85%8d%e7%bd%ae%e5%a4%b4%e6%96%87%e4%bb%b6"></a>
配置头文件
</h2><blockquote>
<p>[!important]</p>
<p>请务必将此文件加入到BSW/Include或ASP/Include文件夹中，该文件为基本类型定义。</p></blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#ifndef STD_TYPES_H
</span></span></span><span class="line"><span class="cl"><span class="cp">#define STD_TYPES_H
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 标准数据类型定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>         <span class="n">uint8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">char</span>           <span class="n">sint8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">short</span>        <span class="n">uint16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">short</span>          <span class="n">sint16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span>         <span class="n">uint32</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">long</span>           <span class="n">sint32</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span>    <span class="n">uint64</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">signed</span> <span class="kt">long</span> <span class="kt">long</span>      <span class="n">sint64</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">float</span>                 <span class="n">float32</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">double</span>                <span class="n">float64</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 布尔类型定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">boolean</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef TRUE
</span></span></span><span class="line"><span class="cl"><span class="cp">#define TRUE    ((boolean) 1)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifndef FALSE
</span></span></span><span class="line"><span class="cl"><span class="cp">#define FALSE   ((boolean) 0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 状态类型定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define E_OK        ((Std_ReturnType) 0x00)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define E_NOT_OK    ((Std_ReturnType) 0x01)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// NULL 指针定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef NULL
</span></span></span><span class="line"><span class="cl"><span class="cp">#define NULL ((void *)0)
</span></span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 位操作宏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define SET_BIT(reg, bit)    ((reg) |= (1 &lt;&lt; (bit)))
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CLEAR_BIT(reg, bit)  ((reg) &amp;= ~(1 &lt;&lt; (bit)))
</span></span></span><span class="line"><span class="cl"><span class="cp">#define TOGGLE_BIT(reg, bit) ((reg) ^= (1 &lt;&lt; (bit)))
</span></span></span><span class="line"><span class="cl"><span class="cp">#define GET_BIT(reg, bit)    (((reg) &gt;&gt; (bit)) &amp; 0x01)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifdef __cplusplus
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">extern</span> <span class="s">&#34;C&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#ifdef __cplusplus
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif </span><span class="c1">// STD_TYPES_H
</span></span></span></code></pre></div><h1 id="函数">
<a class="header-anchor" href="#%e5%87%bd%e6%95%b0"></a>
函数
</h1><h2 id="命名规则">
<a class="header-anchor" href="#%e5%91%bd%e5%90%8d%e8%a7%84%e5%88%99"></a>
命名规则
</h2><ol>
<li>
<p>函数的命名规则：</p>
<p>每一个函数名前缀需包含模块名，模块名为小写，与函数名区别开。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">uartReceive</span><span class="p">(</span><span class="err">串口接收</span><span class="p">)</span>
</span></span></code></pre></div><p>对于非常简单的程序，可以不加模块名。</p>
</li>
<li>
<p>函数形参</p>
<p>函数的的形参都以下划线_开头，已示与普通变量进行区分，对于没有形参为空的函数(void)括号紧跟函数后面。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">uint32_t</span> <span class="nf">uartConvUartBaud</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">_ulBaud</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p>一个函数仅完成一件功能。</p>
</li>
<li>
<p>函数名应准确描述函数的功能，使用动宾词组为执行某操作的函数命名。</p>
<p>避免用含义不清的动词如<code>process</code>、<code>handle</code>等为函数命名，因为这些动词并没有说明要具体做什么。参照如下方式命名函数。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">PrintRecord</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">_RecInd</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">int32</span> <span class="nf">InputRecord</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">uint8</span> <span class="n">t</span> <span class="nf">GetCurrentColor</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>避免设计五个以上参数函数，不使用的参数从接口中去掉。目的减少函数间接口的复杂度，复杂的参数可以使用结构传递。</p>
</li>
<li>
<p>在调用函数填写参数时，应尽量减少没有必要的默认数据类型转换或强制数据类型转换。因为数据类型转换或多或少存在危险。</p>
</li>
<li>
<p>防止把没有关联的语句放到一个函数中。如下函数就是一种随机内聚。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">InitVar</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Rect</span><span class="p">.</span><span class="n">length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Rect</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="cm">/*初始化矩形的长与宽*/</span>
</span></span><span class="line"><span class="cl">    <span class="n">Point</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Point</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span><span class="cm">/*初始化“点”的坐标*/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>矩形的长、宽与点的坐标基本没有任何关系，故以上函数是随机内聚。应如下分为两个函数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">InitRect</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Rect</span><span class="p">.</span><span class="n">length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Rect</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="cm">/*初始化矩形的长与宽*/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">InitPoint</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Point</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Point</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span><span class="cm">/*初始化“点”的坐标*/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
<p>​	<strong>API接口函数</strong>的命名遵循严格的规范，以确保代码的可读性、一致性和可维护性。 API接口函数通常用于模块之间的交互，例如操作系统（OS）、通信栈（COM）、诊断栈（DCM）等。以下是 API接口函数命名的详细规则和示例。</p>
<ul>
<li>
<p><strong>前缀</strong>：模块或服务的缩写（如 <code>Os_</code>、<code>Com_</code>、<code>Dcm_</code>、<code>Bsp</code> 或 <code>Bsp&lt;模块名&gt;</code>）。</p>
</li>
<li>
<p><strong>动作描述</strong>：描述函数的主要操作（如 <code>Init</code>、<code>Start</code>、<code>Get</code>、<code>Set</code>）。</p>
</li>
<li>
<p><strong>对象描述</strong>：描述操作的对象（如 <code>State</code>、<code>Value</code>、<code>Mode</code>）。</p>
</li>
<li>
<p><strong>大小写</strong>：采用驼峰命名法，首字母大写。</p>
<p>例如：</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspWdg_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div><ol>
<li>
<p><strong>前缀</strong>：</p>
<ul>
<li>使用模块或服务的缩写作为前缀，例如：
<ul>
<li><code>Os_</code>：操作系统（OS）模块。</li>
<li><code>Com_</code>：通信栈（COM）模块。</li>
<li><code>Dcm_</code>：诊断通信管理（DCM）模块。</li>
<li><code>EcuM_</code>：ECU状态管理（ECU Manager）模块。</li>
<li><code>SchM_</code>：调度管理（Scheduler Manager）模块。</li>
<li><code>BspGpio</code>、<code>BspAdc</code>。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>动作描述</strong>：</p>
<ul>
<li>描述函数的主要操作，例如：
<ul>
<li><code>Init</code>：初始化。</li>
<li><code>Start</code>：启动。</li>
<li><code>Stop</code>：停止。</li>
<li><code>Get</code>：获取数据。</li>
<li><code>Set</code>：设置数据。</li>
<li><code>MainFunction</code>：主函数（周期性调用）。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>对象描述</strong>：</p>
<ul>
<li>描述函数操作的对象或目标，例如：
<ul>
<li><code>State</code>：状态。</li>
<li><code>Value</code>：值。</li>
<li><code>Mode</code>：模式。</li>
<li><code>Status</code>：状态。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>大小写</strong>：</p>
<ul>
<li>采用<strong>驼峰命名法</strong>（CamelCase），首字母大写。</li>
</ul>
</li>
</ol>
<h2 id="bsp层函数名详细设计">
<a class="header-anchor" href="#bsp%e5%b1%82%e5%87%bd%e6%95%b0%e5%90%8d%e8%af%a6%e7%bb%86%e8%ae%be%e8%ae%a1"></a>
BSP层函数名详细设计
</h2><ol>
<li>
<p><strong>前缀+模块名称</strong>：</p>
<ul>
<li>
<p>使用 <code>Bsp_</code> 作为前缀，表示属于BSP层的函数。</p>
</li>
<li>
<p>如果BSP模块进一步细分（如GPIO、ADC等），可能会使用更具体的前缀，例如 <code>BspGpio_</code> 或 <code>BspAdc_</code>。</p>
</li>
<li>
<p>模块名称：指明具体的硬件模块或功能，例如 <code>Gpio</code>、<code>Adc</code>、<code>Pwm</code> 等。</p>
</li>
</ul>
</li>
<li>
<p><strong>动作描述</strong>：</p>
<ul>
<li>描述函数的具体操作，例如 <code>Read</code>、<code>Write</code>、<code>Init</code>、<code>Set</code> 等。</li>
</ul>
</li>
<li>
<p><strong>对象描述</strong>：</p>
<ul>
<li>描述函数操作的对象或目标，例如 <code>Pin</code>、<code>Channel</code>、<code>Port</code> 等。</li>
</ul>
</li>
<li>
<p><strong>大小写</strong>：</p>
<ul>
<li>采用<strong>驼峰命名法</strong>（CamelCase），首字母大写。</li>
</ul>
</li>
</ol>
<blockquote>
<p>[!important]</p>
<p>请严格参照以下写法书写BSP函数接口以方便系统移植‼‼‼‼</p></blockquote>
<h3 id="gpio模块">
<a class="header-anchor" href="#gpio%e6%a8%a1%e5%9d%97"></a>
GPIO模块
</h3><ul>
<li>
<p>初始化GPIO：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspGpio_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>设置GPIO引脚状态：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspGpio_SetPin</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">Port</span><span class="p">,</span><span class="kt">uint32_t</span> <span class="n">Pin</span><span class="p">,</span><span class="kt">uint32_t</span> <span class="n">State</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>读取GPIO引脚状态：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">uint8_t</span><span class="o">*</span> <span class="nf">BspGpio_ReadPin</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">Port</span><span class="p">,</span><span class="kt">uint32_t</span> <span class="n">Pin</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="adc模块">
<a class="header-anchor" href="#adc%e6%a8%a1%e5%9d%97"></a>
ADC模块
</h3><ul>
<li>
<p>初始化ADC：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspAdc_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>读取ADC通道的值：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">uint16_t</span> <span class="nf">BspAdc_ReadChannel</span><span class="p">(</span><span class="n">uint8</span> <span class="n">Channel</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="pwm模块">
<a class="header-anchor" href="#pwm%e6%a8%a1%e5%9d%97"></a>
PWM模块
</h3><ul>
<li>
<p>初始化PWM：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspPwm_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>设置PWM占空比：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspPwm_SetDutyCycle</span><span class="p">(</span><span class="n">uint8</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">DutyCycle</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="can模块">
<a class="header-anchor" href="#can%e6%a8%a1%e5%9d%97"></a>
CAN模块
</h3><ul>
<li>
<p>初始化CAN控制器：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspCan_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>发送CAN消息：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspCan_WriteMessage</span><span class="p">(</span><span class="n">uint8</span> <span class="n">MessageId</span><span class="p">,</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">Data</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Length</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="timer模块">
<a class="header-anchor" href="#timer%e6%a8%a1%e5%9d%97"></a>
Timer模块
</h3><ul>
<li>
<p>初始化定时器：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspTimer_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>启动定时器：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspTimer_Start</span><span class="p">(</span><span class="n">uint8</span> <span class="n">TimerId</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="watchdog模块">
<a class="header-anchor" href="#watchdog%e6%a8%a1%e5%9d%97"></a>
Watchdog模块
</h3><ul>
<li>
<p>初始化看门狗：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspWdg_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>刷新看门狗：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">BspWdg_Refresh</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="操作系统os模块">
<a class="header-anchor" href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9fos%e6%a8%a1%e5%9d%97"></a>
操作系统（OS）模块
</h3><ul>
<li>
<p>启动操作系统：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Os_Start</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>获取任务状态：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">StatusType</span> <span class="nf">Os_GetTaskState</span><span class="p">(</span><span class="n">TaskType</span> <span class="n">TaskId</span><span class="p">,</span> <span class="n">TaskStateRefType</span> <span class="n">State</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="通信栈com模块">
<a class="header-anchor" href="#%e9%80%9a%e4%bf%a1%e6%a0%88com%e6%a8%a1%e5%9d%97"></a>
通信栈（COM）模块
</h3><ul>
<li>
<p>初始化通信栈：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Com_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>发送信号：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Com_SendSignal</span><span class="p">(</span><span class="n">Com_SignalIdType</span> <span class="n">SignalId</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">SignalData</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>通信栈主函数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Com_MainFunction</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="诊断通信管理dcm模块">
<a class="header-anchor" href="#%e8%af%8a%e6%96%ad%e9%80%9a%e4%bf%a1%e7%ae%a1%e7%90%86dcm%e6%a8%a1%e5%9d%97"></a>
诊断通信管理（DCM）模块
</h3><ul>
<li>
<p>初始化诊断模块：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Dcm_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>处理诊断请求：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Dcm_ProcessRequest</span><span class="p">(</span><span class="n">Dcm_MessageType</span> <span class="n">RequestMessage</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="ecu状态管理ecum模块">
<a class="header-anchor" href="#ecu%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86ecum%e6%a8%a1%e5%9d%97"></a>
ECU状态管理（EcuM）模块
</h3><ul>
<li>
<p>初始化ECU状态管理：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">EcuM_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>启动ECU：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">EcuM_Start</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="调度管理schm模块">
<a class="header-anchor" href="#%e8%b0%83%e5%ba%a6%e7%ae%a1%e7%90%86schm%e6%a8%a1%e5%9d%97"></a>
调度管理（SchM）模块
</h3><ul>
<li>
<p>初始化调度管理：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">SchM_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>主调度函数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">SchM_MainFunction</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="存储栈nvm模块">
<a class="header-anchor" href="#%e5%ad%98%e5%82%a8%e6%a0%88nvm%e6%a8%a1%e5%9d%97"></a>
存储栈（NVM）模块
</h3><ul>
<li>
<p>初始化NVM模块：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Nvm_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>读取数据：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Nvm_ReadBlock</span><span class="p">(</span><span class="n">Nvm_BlockIdType</span> <span class="n">BlockId</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">Data</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="看门狗管理wdg模块">
<a class="header-anchor" href="#%e7%9c%8b%e9%97%a8%e7%8b%97%e7%ae%a1%e7%90%86wdg%e6%a8%a1%e5%9d%97"></a>
看门狗管理（Wdg）模块
</h3><ul>
<li>
<p>初始化看门狗：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Wdg_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
<li>
<p>刷新看门狗：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Wdg_Refresh</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div></li>
</ul>
<hr>
<h3 id="注意事项">
<a class="header-anchor" href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9"></a>
注意事项
</h3><ol>
<li><strong>一致性</strong>：确保所有API接口函数的命名风格一致。</li>
<li><strong>可读性</strong>：函数名应清晰表达其功能，便于开发人员理解。</li>
<li><strong>模块化</strong>：根据模块的功能划分API接口，避免功能混杂。</li>
<li><strong>标准化</strong>：遵循AUTOSAR官方文档中的命名规范，确保与AUTOSAR标准兼容。</li>
</ol>
<h2 id="63-函数设计">
<a class="header-anchor" href="#63-%e5%87%bd%e6%95%b0%e8%ae%be%e8%ae%a1"></a>
6.3 函数设计
</h2><p>在 AUTOSAR 中，函数设计规范是确保代码可读性、可维护性和一致性的重要部分。AUTOSAR 的函数设计规范通常基于 <strong>MISRA C</strong> 标准，并结合汽车电子系统的特殊需求。以下是 AUTOSAR 中函数设计规范的主要内容：</p>
<hr>
<h3 id="631-函数命名规范">
<a class="header-anchor" href="#631-%e5%87%bd%e6%95%b0%e5%91%bd%e5%90%8d%e8%a7%84%e8%8c%83"></a>
<strong>6.3.1. 函数命名规范</strong>
</h3><h4 id="命名规则-1">
<a class="header-anchor" href="#%e5%91%bd%e5%90%8d%e8%a7%84%e5%88%99-1"></a>
<strong>命名规则</strong>
</h4><ul>
<li><strong>模块前缀</strong>：函数名应以模块名作为前缀（如 <code>Can_</code> 表示 CAN 模块，<code>Dcm_</code> 表示诊断通信管理模块）。</li>
<li><strong>动作描述</strong>：函数名应清晰描述其功能，使用动词开头。</li>
<li><strong>命名风格</strong>：使用驼峰命名法（CamelCase）。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Can_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>                      <span class="c1">// CAN 模块初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Std_ReturnType</span> <span class="nf">Can_SendMessage</span><span class="p">(</span><span class="n">uint8</span> <span class="n">messageId</span><span class="p">,</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">);</span>  <span class="c1">// 发送 CAN 消息
</span></span></span></code></pre></div><hr>
<h3 id="632-函数长度">
<a class="header-anchor" href="#632-%e5%87%bd%e6%95%b0%e9%95%bf%e5%ba%a6"></a>
<strong>6.3.2. 函数长度</strong>
</h3><h4 id="函数长度限制">
<a class="header-anchor" href="#%e5%87%bd%e6%95%b0%e9%95%bf%e5%ba%a6%e9%99%90%e5%88%b6"></a>
<strong>函数长度限制</strong>
</h4><ul>
<li>每个函数的代码行数不应超过 <strong>50 行</strong>。</li>
<li>如果函数逻辑复杂，应将其拆分为多个子函数。</li>
</ul>
<hr>
<h3 id="633-函数参数">
<a class="header-anchor" href="#633-%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0"></a>
<strong>6.3.3. 函数参数</strong>
</h3><h4 id="参数数量">
<a class="header-anchor" href="#%e5%8f%82%e6%95%b0%e6%95%b0%e9%87%8f"></a>
<strong>参数数量</strong>
</h4><ul>
<li>函数的参数数量不应超过 <strong>5 个</strong>。</li>
<li>如果参数过多，应考虑使用结构体封装。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">messageId</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="n">CanMessage_t</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_SendMessage</span><span class="p">(</span><span class="k">const</span> <span class="n">CanMessage_t</span><span class="o">*</span> <span class="n">message</span><span class="p">);</span>
</span></span></code></pre></div><h4 id="数类型">
<a class="header-anchor" href="#%e6%95%b0%e7%b1%bb%e5%9e%8b"></a>
<strong>数类型</strong>
</h4><ul>
<li>使用 AUTOSAR 定义的标准数据类型（如 <code>uint8</code>、<code>sint16</code>、<code>float32</code> 等）。</li>
<li>使用 <code>const</code> 修饰只读参数。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Can_ProcessMessage</span><span class="p">(</span><span class="k">const</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">length</span><span class="p">);</span>
</span></span></code></pre></div><h4 id="参数顺序">
<a class="header-anchor" href="#%e5%8f%82%e6%95%b0%e9%a1%ba%e5%ba%8f"></a>
<strong>参数顺序</strong>
</h4><ul>
<li>输入参数在前，输出参数在后。</li>
<li>如果函数有返回值，输出参数应放在最后。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_ReadMessage</span><span class="p">(</span><span class="n">uint8</span> <span class="n">messageId</span><span class="p">,</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">length</span><span class="p">);</span>
</span></span></code></pre></div><hr>
<h3 id="634-返回值">
<a class="header-anchor" href="#634-%e8%bf%94%e5%9b%9e%e5%80%bc"></a>
<strong>6.3.4. 返回值</strong>
</h3><h4 id="返回值类型">
<a class="header-anchor" href="#%e8%bf%94%e5%9b%9e%e5%80%bc%e7%b1%bb%e5%9e%8b"></a>
<strong>返回值类型</strong>
</h4><ul>
<li>
<p>使用 <code>Std_ReturnType</code> 作为函数返回值类型，表示函数执行状态。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="n">uint8</span> <span class="n">Std_ReturnType</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="cp">#define E_OK     0x00
</span></span></span><span class="line"><span class="cl"><span class="cp">#define E_NOT_OK 0x01
</span></span></span></code></pre></div></li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span></code></pre></div><h4 id="返回值检查">
<a class="header-anchor" href="#%e8%bf%94%e5%9b%9e%e5%80%bc%e6%a3%80%e6%9f%a5"></a>
<strong>返回值检查</strong>
</h4><ul>
<li>调用函数时，应检查其返回值，确保错误被正确处理。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="n">ret</span> <span class="o">=</span> <span class="nf">Can_Init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">!=</span> <span class="n">E_OK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Handle error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><hr>
<h3 id="64-函数内部设计">
<a class="header-anchor" href="#64-%e5%87%bd%e6%95%b0%e5%86%85%e9%83%a8%e8%ae%be%e8%ae%a1"></a>
<strong>6.4 函数内部设计</strong>
</h3><h4 id="局部变量">
<a class="header-anchor" href="#%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f"></a>
<strong>局部变量</strong>
</h4><ul>
<li>局部变量应在函数开头声明，并初始化。</li>
<li>变量名应清晰表达其用途。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Can_ProcessMessage</span><span class="p">(</span><span class="k">const</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">length</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">messageId</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">payloadLength</span> <span class="o">=</span> <span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Process message
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h4 id="控制结构">
<a class="header-anchor" href="#%e6%8e%a7%e5%88%b6%e7%bb%93%e6%9e%84"></a>
<strong>控制结构</strong>
</h4><ul>
<li>使用括号明确条件表达式的优先级。</li>
<li>避免使用复杂的嵌套条件语句。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">((</span><span class="n">u8Value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">u8Value</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Code block
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h4 id="错误处理">
<a class="header-anchor" href="#%e9%94%99%e8%af%af%e5%a4%84%e7%90%86"></a>
<strong>错误处理</strong>
</h4><ul>
<li>在函数内部检查输入参数的有效性，并在发现错误时立即返回。</li>
<li>使用 <code>assert</code> 检查程序中的假设条件。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_SendMessage</span><span class="p">(</span><span class="n">uint8</span> <span class="n">messageId</span><span class="p">,</span> <span class="k">const</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">length</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">E_NOT_OK</span><span class="p">;</span>  <span class="c1">// Invalid input parameter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">&gt;</span> <span class="n">MAX_MESSAGE_LENGTH</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">E_NOT_OK</span><span class="p">;</span>  <span class="c1">// Invalid message length
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Send message
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="n">E_OK</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<h3 id="65-函数复用与模块化">
<a class="header-anchor" href="#65-%e5%87%bd%e6%95%b0%e5%a4%8d%e7%94%a8%e4%b8%8e%e6%a8%a1%e5%9d%97%e5%8c%96"></a>
<strong>6.5 函数复用与模块化</strong>
</h3><h4 id="复用性">
<a class="header-anchor" href="#%e5%a4%8d%e7%94%a8%e6%80%a7"></a>
<strong>复用性</strong>
</h4><ul>
<li>将通用功能封装为独立的函数，以便复用。</li>
<li>避免在多个函数中重复相同的代码。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">uint8</span> <span class="nf">CalculateChecksum</span><span class="p">(</span><span class="k">const</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">length</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">uint8</span> <span class="n">checksum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="n">uint8</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">checksum</span> <span class="o">+=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">checksum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="模块化">
<a class="header-anchor" href="#%e6%a8%a1%e5%9d%97%e5%8c%96"></a>
<strong>模块化</strong>
</h4><ul>
<li>将功能相关的函数组织在同一个模块中。</li>
<li>使用头文件声明模块的接口函数。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// can_driver.h
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#ifndef CAN_DRIVER_H
</span></span></span><span class="line"><span class="cl"><span class="cp">#define CAN_DRIVER_H
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;Std_Types.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_Init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Std_ReturnType</span> <span class="nf">Can_SendMessage</span><span class="p">(</span><span class="n">uint8</span> <span class="n">messageId</span><span class="p">,</span> <span class="k">const</span> <span class="n">uint8</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">#endif  </span><span class="c1">// CAN_DRIVER_H
</span></span></span></code></pre></div>
      
    </div>
    <footer class="article-footer">
      

      

      
        

<div class="share-wrapper">
  
    <a href="http://connect.qq.com/widget/shareqq/index.html?url=http://localhost:1313/post/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/&amp;title=%e7%bc%96%e7%a8%8b%e8%a7%84%e8%8c%83&amp;desc=%20%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5%20C%e8%af%ad%e8%a8%80%20%7c%20%e5%b5%8c%e5%85%a5%e5%bc%8fC%e8%af%ad%e8%a8%80%e7%bc%96%e7%a8%8b%e8%a7%84%e8%8c%83_%e5%87%bd%e6%95%b0%e5%90%8d%e5%bc%80%e5%a4%b4%e5%8a%a0uc-CSDN%e5%8d%9a%e5%ae%a2%0a[!tip]%0a%e4%bb%a5%e4%b8%8b%e6%96%87%e4%bb%b6%e6%8e%92%e7%89%88%e5%b0%86%e4%bc%9a%e6%8c%89%e7%85%a7%e8%87%aa%e9%a1%b6%e5%90%91%e4%b8%8b%e7%9a%84%e6%96%b9%e5%bc%8f%e8%bf%9b%e8%a1%8c%e7%bc%96%e6%8e%92%ef%bc%8c==%e6%96%87%e4%bb%b6%e5%a4%b9%20&amp;gt;%20%e6%96%87%e4%bb%b6%e5%90%8d%20&amp;gt;%20%e6%8e%92%e7%89%88%20&amp;gt;%20%e5%87%bd%e6%95%b0%20&amp;gt;%20%e5%8f%98%e9%87%8f==%0a%e6%96%87%e4%bb%b6%e6%9e%b6%e6%9e%84%20%e7%bc%a9%e5%86%99%20%e8%af%a5%e9%a1%b9%e7%9b%ae%e6%96%87%e4%bb%b6%e6%a0%91%e5%8f%82%e8%80%83AUTOSAR%e7%bb%93%e6%9e%84%ef%bc%8c%e4%b8%ba%e4%ba%86%e4%be%bf%e4%ba%8e%e7%90%86%e8%a7%a3%ef%bc%8c%e6%ad%a4%e5%a4%84%e5%b1%95%e7%a4%ba%e9%83%a8%e5%88%86%e7%bc%a9%e5%86%99%e7%9a%84%e5%85%a8%e7%a7%b0%ef%bc%9a%0a%e7%bc%a9%e5%86%99%20%e5%85%a8%e7%a7%b0%20%e6%8f%8f%e8%bf%b0%20AUTOSAR%20AUTomotive%20Open%20System%20ARchitecture%20%e6%b1%bd%e8%bd%a6%e5%bc%80%e6%94%be%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84%ef%bc%8c%e6%98%af%e6%b1%bd%e8%bd%a6%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91%e7%9a%84%e6%a0%87%e5%87%86%e6%a1%86%e6%9e%b6%e3%80%82%20ASW%20Application%20Software%20%e5%ba%94%e7%94%a8%e8%bd%af%e4%bb%b6%ef%bc%8c%e4%b8%bb%e8%a6%81%e8%b4%9f%e8%b4%a3%e5%ae%9e%e7%8e%b0%e7%89%b9%e5%ae%9a%e5%8a%9f%e8%83%bd%e7%9a%84%e4%b8%9a%e5%8a%a1%e9%80%bb%e8%be%91%e3%80%82%20BSW%20Basic%20Software%20%e5%9f%ba%e7%a1%80%e8%bd%af%20%e2%80%a6&amp;source=http://localhost:1313/" target="_blank" rel="noopener noreferrer" title="编程规范">
      <div class="share-icon icon icon-qq">
        
      </div>
    </a>
  
    <a href="javascript:;"  title="编程规范">
      <div class="share-icon icon icon-weixin">
        
          <div id="share-weixin">
            <div class="share-weixin-dom">
              <div class="share-weixin-content">
                <img id="share-weixin-banner"> 
                <div id="share-weixin-title"></div>
                <div id="share-weixin-desc"></div>
              </div>
              <div class="share-weixin-qrcode">
                <div class="share-weixin-info">
                  <div id="share-weixin-author"></div>
                  <div id="share-weixin-theme">Powered By hugo-theme-reimu</div>
                </div>
                <img id="share-weixin-qr" >
              </div>
            </div>
            <div class="share-weixin-canvas"></div>
          </div>
        
      </div>
    </a>
  
</div>
      

      

      

      

      

      
      <ul class="article-tag-list" itemprop="keywords">
  
    <li class="article-tag-list-item" data-aos="zoom-in">
      <a
        class="article-tag-list-link"
        href="/tags/%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86"
        rel="tag"
        >基础知识</a
      >
    </li>
  
</ul>

    </footer>
  </div>
  
    
  <nav
    id="article-nav"
    data-aos="fade-up"
  >
    
      <div class="article-nav-link-wrap article-nav-link-left">
        
          
          
            <img
              data-src="https://s.ipyimatong.com/yuancangip/ips/20230926155265128a333caea.jpeg"
              data-sizes="auto"
              alt="便捷工具"
              class="lazyload"
            />
          
        
        <a href="http://localhost:1313/post/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/%E4%BE%BF%E6%8D%B7%E5%B7%A5%E5%85%B7/"></a>
        <div class="article-nav-caption">前一篇</div>
        <h3 class="article-nav-title">
          
            便捷工具
          
        </h3>
      </div>
    

    
      <div class="article-nav-link-wrap article-nav-link-right">
        
          
          
            <img
              data-src="https://c-ssl.duitang.com/uploads/blog/202309/17/vDSABW1nsd89yv5.jpg"
              data-sizes="auto"
              alt="WireShark"
              class="lazyload"
            />
          
        
        <a href="http://localhost:1313/post/%E8%BD%AF%E4%BB%B6%E5%8F%8A%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/wireshark/"></a>
        <div class="article-nav-caption">后一篇</div>
        <h3 class="article-nav-title">
          
            WireShark
          
        </h3>
      </div>
    
  </nav>


  
</article>










</section>
        </div>
        
        
        



  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  



<footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info">
    <div>
      <span class="icon-copyright"></span>
      2020 -
      2025
      <span class="footer-info-sep rotate"></span>
      TrustMe
    </div>
    
      <div>
        基于&nbsp;<a
          href="https://gohugo.io/"
          target="_blank"
          >Hugo</a
        >&nbsp; Theme.<a
          href="https://github.com/D-Sketon/hugo-theme-reimu"
          target="_blank"
          >Reimu</a
        >
      </div>
    
    
      <div>
        <span class="icon-brush"
          >&nbsp;
            59.8k
          </span
        >
        &nbsp;|&nbsp;
        <span class="icon-coffee">&nbsp;
          
          

          05:12
        </span>
      </div>
    
    
    
    
      <div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv"
          >总访问量&nbsp;<span
            id="busuanzi_value_site_pv"
          ></span
        ></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv"
          >总访客量&nbsp;<span
            id="busuanzi_value_site_uv"
          ></span
        ></span>
      </div>
    
  </div>
</footer>

        
          <div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div>
        
        <div id="mask" class="hide"></div>
      </div>
      <nav id="mobile-nav">
  <div class="sidebar-wrap">
    
      <div class="sidebar-toc-sidebar">
        <div class="sidebar-toc">
  <h3 class="toc-title">文章目录</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#缩写">缩写</a></li>
    <li><a href="#概览">概览</a></li>
    <li><a href="#asw">ASW</a></li>
    <li><a href="#bsw">BSW</a></li>
    <li><a href="#boot">BOOT</a></li>
    <li><a href="#documents">Documents</a></li>
    <li><a href="#os">OS</a></li>
    <li><a href="#output">Output</a></li>
    <li><a href="#project">Project</a></li>
    <li><a href="#110-readme">1.10 ReadMe</a></li>
  </ul>

  <ul>
    <li><a href="#文件名命名规则">文件名命名规则</a></li>
    <li><a href="#命名标准">命名标准</a>
      <ul>
        <li><a href="#通信栈模块com">通信栈模块（Com）</a></li>
        <li><a href="#诊断通信管理模块dcm">诊断通信管理模块（Dcm）</a></li>
        <li><a href="#基础板级支持包bsp">基础板级支持包（BSP）</a></li>
        <li><a href="#ecu状态管理模块ecum">ECU状态管理模块（EcuM）</a></li>
        <li><a href="#操作系统模块os">操作系统模块（Os）</a></li>
        <li><a href="#基础软件管理模块bswm">基础软件管理模块（BswM）</a></li>
        <li><a href="#非易失性存储管理模块nvm">非易失性存储管理模块（Nvm）</a></li>
        <li><a href="#autosar-xml-文件">AUTOSAR XML 文件</a></li>
        <li><a href="#autosar文件名命名总结">AUTOSAR文件名命名总结</a></li>
      </ul>
    </li>
    <li><a href="#头文件">头文件</a></li>
  </ul>

  <ul>
    <li><a href="#缩进与对齐">缩进与对齐</a>
      <ul>
        <li><a href="#缩进">缩进</a></li>
        <li><a href="#对齐">对齐</a></li>
      </ul>
    </li>
    <li><a href="#行长度与换行">行长度与换行</a>
      <ul>
        <li><a href="#行长度">行长度</a></li>
        <li><a href="#换行规则">换行规则</a></li>
      </ul>
    </li>
    <li><a href="#空格与空行">空格与空行</a>
      <ul>
        <li><a href="#空格">空格</a></li>
        <li><a href="#空行">空行</a></li>
      </ul>
    </li>
    <li><a href="#括号与分号">括号与分号</a>
      <ul>
        <li><a href="#括号">括号</a></li>
        <li><a href="#分号">分号</a></li>
      </ul>
    </li>
    <li><a href="#注释格式">注释格式</a>
      <ul>
        <li><a href="#单行注释">单行注释</a></li>
        <li><a href="#多行注释">多行注释</a></li>
      </ul>
    </li>
    <li><a href="#函数排版">函数排版</a>
      <ul>
        <li><a href="#函数声明">函数声明</a></li>
        <li><a href="#函数定义">函数定义</a></li>
      </ul>
    </li>
    <li><a href="#结构体与枚举排版">结构体与枚举排版</a>
      <ul>
        <li><a href="#结构体">结构体</a></li>
        <li><a href="#枚举">枚举</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#文件注释规范">文件注释规范</a>
      <ul>
        <li><a href="#文件头注释">文件头注释</a></li>
        <li><a href="#注释格式-1">注释格式</a></li>
      </ul>
    </li>
    <li><a href="#文件头注释示例">文件头注释示例</a>
      <ul>
        <li><a href="#c-文件注释"><code>.c</code> 文件注释</a></li>
        <li><a href="#h-文件注释"><code>.h</code> 文件注释</a></li>
      </ul>
    </li>
    <li><a href="#文件内容注释">文件内容注释</a>
      <ul>
        <li><a href="#模块注释">模块注释</a></li>
        <li><a href="#函数注释">函数注释</a></li>
        <li><a href="#结构体和枚举注释">结构体和枚举注释</a></li>
      </ul>
    </li>
    <li><a href="#其他注释">其他注释</a>
      <ul>
        <li><a href="#代码块注释">代码块注释</a></li>
        <li><a href="#修改记录">修改记录</a></li>
      </ul>
    </li>
    <li><a href="#软件配置">软件配置</a>
      <ul>
        <li><a href="#vscode">Vscode</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#常见变量类型前缀缩写">常见变量类型前缀缩写</a></li>
    <li><a href="#模块相关变量前缀缩写">模块相关变量前缀缩写</a>
      <ul>
        <li><a href="#基本数据类型">基本数据类型</a></li>
        <li><a href="#布尔类型">布尔类型</a></li>
        <li><a href="#状态类型">状态类型</a></li>
        <li><a href="#复合数据类型">复合数据类型</a></li>
        <li><a href="#指针类型">指针类型</a></li>
        <li><a href="#数组类型">数组类型</a></li>
      </ul>
    </li>
    <li><a href="#配置头文件">配置头文件</a></li>
  </ul>

  <ul>
    <li><a href="#命名规则">命名规则</a></li>
    <li><a href="#bsp层函数名详细设计">BSP层函数名详细设计</a>
      <ul>
        <li><a href="#gpio模块">GPIO模块</a></li>
        <li><a href="#adc模块">ADC模块</a></li>
        <li><a href="#pwm模块">PWM模块</a></li>
        <li><a href="#can模块">CAN模块</a></li>
        <li><a href="#timer模块">Timer模块</a></li>
        <li><a href="#watchdog模块">Watchdog模块</a></li>
        <li><a href="#操作系统os模块">操作系统（OS）模块</a></li>
        <li><a href="#通信栈com模块">通信栈（COM）模块</a></li>
        <li><a href="#诊断通信管理dcm模块">诊断通信管理（DCM）模块</a></li>
        <li><a href="#ecu状态管理ecum模块">ECU状态管理（EcuM）模块</a></li>
        <li><a href="#调度管理schm模块">调度管理（SchM）模块</a></li>
        <li><a href="#存储栈nvm模块">存储栈（NVM）模块</a></li>
        <li><a href="#看门狗管理wdg模块">看门狗管理（Wdg）模块</a></li>
        <li><a href="#注意事项">注意事项</a></li>
      </ul>
    </li>
    <li><a href="#63-函数设计">6.3 函数设计</a>
      <ul>
        <li><a href="#631-函数命名规范"><strong>6.3.1. 函数命名规范</strong></a></li>
        <li><a href="#632-函数长度"><strong>6.3.2. 函数长度</strong></a></li>
        <li><a href="#633-函数参数"><strong>6.3.3. 函数参数</strong></a></li>
        <li><a href="#634-返回值"><strong>6.3.4. 返回值</strong></a></li>
        <li><a href="#64-函数内部设计"><strong>6.4 函数内部设计</strong></a></li>
        <li><a href="#65-函数复用与模块化"><strong>6.5 函数复用与模块化</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
      </div>
      <div class="sidebar-common-sidebar hidden">
        
<div class="sidebar-author">
  <img
    data-src="/avatar/avatar.webp"
    data-sizes="auto"
    alt="TrustMe"
    class="lazyload"
  />
  <div class="sidebar-author-name">TrustMe</div>
  <div class="sidebar-description">你要信我啊</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>文章</div>
    
    <div class="sidebar-state-number">60</div>
  </div>
  <div class="sidebar-state-category">
    <div>分类</div>
    <div class="sidebar-state-number">
      0
    </div>
  </div>
  <div class="sidebar-state-tag">
    <div>标签</div>
    <div class="sidebar-state-number">7</div>
  </div>
</div>
<div class="sidebar-social">
  
    <div class="icon-bilibili sidebar-social-icon">
      <a
        href="https://space.bilibili.com/yourname"
        itemprop="url"
        target="_blank"
        aria-label="bilibili"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
    <div class="icon-github sidebar-social-icon">
      <a
        href="https://github.com/youShouldTrustMe"
        itemprop="url"
        target="_blank"
        aria-label="github"
        rel="noopener external nofollow noreferrer"
      ></a>
    </div>
  
</div>
<div class="sidebar-menu">
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="首页"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe61b;
        
      </div>
      <div class="sidebar-menu-link">首页</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="归档"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe623;
        
      </div>
      <div class="sidebar-menu-link">归档</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/about"
        aria-label="关于"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe621;
        
      </div>
      <div class="sidebar-menu-link">关于</div>
    </div>
  
    <div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/friend"
        aria-label="友链"
      ></a>
      <div class='sidebar-menu-icon icon '>
        
          &#xe639;
        
      </div>
      <div class="sidebar-menu-link">友链</div>
    </div>
  
</div>

      </div>
    
  </div>
  
    <div class="sidebar-btn-wrapper">
      <div class="sidebar-toc-btn current"></div>
      <div class="sidebar-common-btn"></div>
    </div>
  
</nav>

    </div>
    
      <div class="site-search">
        <div class="reimu-popup popup">
          <div class="reimu-search">
            <div class="reimu-search-input-icon"></div>
            <div class="reimu-search-input" id="reimu-search-input"></div>
            <div class="popup-btn-close"></div>
          </div>
          <div class="reimu-results">
            <div id="reimu-stats"></div>
            <div id="reimu-hits"></div>
            <div id="reimu-pagination" class="reimu-pagination"></div>
          </div>
          <img class="reimu-bg" src="/images/reimu.png" />
        </div>
      </div>
    
    






  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js"
    
    
    
    
    integrity="sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf&#43;e" crossorigin="anonymous"
  ></script>




  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js"
    
    
    
    
    integrity="sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"
  ></script>









  
      
      <script src="/js/main.js" ></script>
      



  





  
      
      <script src="/js/aos.js" ></script>
      

  <script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", aosInit);
    } else {
      aosInit();
    }
  </script>








  
      
      <script src="/js/pjax_main.js" data-pjax></script>
      



  <script>
    var ALGOLIA_CONFIG = {
      logo: '\/images\/algolia_logo.svg',
      algolia: {
        applicationID: "60WEPCQQJ9",
        apiKey: "b3a7464ce9c969570301e3e4287d752e",
        indexName: "",
        hits: {
          "per_page": parseInt("10")
        },
        labels: {
          "input_placeholder": "搜索.....",
          "hits_empty": "未发现与 「${query}」相关内容",
          "hits_stats": "找到${hits}条结果（用时 ${time} ms）"
        }
      }
    };
  </script>
  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js"
    defer
    
    
    
    integrity="sha384-xvLS0jfKuoREs7pqkRI/OI8GcqohO5S&#43;jQz7ZBtQXnsXmD&#43;9jDOOY4cL6dCPzlrk" crossorigin="anonymous"
  ></script>


  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/instantsearch.js@4.56.1/dist/instantsearch.production.min.js"
    defer
    
    
    
    integrity="sha384-hHJCflT4KBLQyHfKO9vpstIcFKn/Y&#43;KHTORelMMEn7mOp2AVPp&#43;7fr03dLgZiV3J" crossorigin="anonymous"
  ></script>


  





  
      
      <script src="/js/algolia_search.js" ></script>
      




  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/mouse-firework@0.1.0/dist/index.umd.js"
    
    
    
    
    integrity="sha384-KM6i7tu43nYd6e0beIljxHMC5tZc58XBDu7pPA58w50h18Jsx7gLdimfS09RXlKv" crossorigin="anonymous"
  ></script>


<script>
  if (window.firework) {
    const options = JSON.parse("{\"excludeelements\":[\"a\",\"button\"],\"particles\":[{\"colors\":[\"#ff5252\",\"#ff7c7c\",\"#ffafaf\",\"#ffd0d0\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"emit\"],\"number\":20,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.3,0.5],\"radius\":[16,32]}},{\"colors\":[\"#ff0000\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"diffuse\"],\"number\":1,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.2,0.5],\"lineWidth\":6,\"radius\":20}}]}");
    options.excludeElements = options.excludeelements;
    delete options.excludeelements;
    window.firework(options);
  }
</script>





<script>
  function initLive2d() {
    live2d.init('https:\/\/fastly.jsdelivr.net\/gh\/D-Sketon\/plugin-live2d\/', {themeTipsPath: ""});
  }
</script> 

  
  
  
  
  
  
  <script
    src="https://fastly.jsdelivr.net/gh/D-Sketon/plugin-live2d/js/live2d-autoload.js"
    
    async
    
    onload="initLive2d()"
    
  ></script>






<div id="lazy-script">
  <div>
    
      
      
        
      
      <script data-pjax>
        window.REIMU_POST = {
          author: "TrustMe",
          title: "编程规范",
          url: "http:\/\/localhost:1313\/post\/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86\/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83\/",
          description: " 参考链接 C语言 | 嵌入式C语言编程规范_函数名开头加uc-CSDN博客\n[!tip]\n以下文件排版将会按照自顶向下的方式进行编排，==文件夹 \u0026gt; 文件名 \u0026gt; 排版 \u0026gt; 函数 \u0026gt; 变量==\n文件架构 缩写 该项目文件树参考AUTOSAR结构，为了便于理解，此处展示部分缩写的全称：\n缩写 全称 描述 AUTOSAR AUTomotive Open System ARchitecture 汽车开放系统架构，是汽车软件开发的标准框架。 ASW Application Software 应用软件，主要负责实现特定功能的业务逻辑。 BSW Basic Software 基础软 …",
          cover: "http:\/\/localhost:1313\/images\/background.jpg",
        };
      </script>
    
    
    
      





  
      
      <script src="/js/insert_highlight.js" data-pjax></script>
      

      
      
      
      
      <script type="module" data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;

        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script>
      












      
        

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/qrcode@1.4.4/build/qrcode.min.js"
    defer
    
    data-pjax
    
    integrity="sha384-0RsG1yo/crf/1Qc14sho26SXXOTngNCjgJw7fuvXBt9W/OChF/Ijx&#43;aUuBDqQwEk" crossorigin="anonymous"
  ></script>


        

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/html-to-image@1.11.11/dist/html-to-image.js"
    defer
    
    data-pjax
    
    integrity="sha384-UbfRVKN3/elS1r7JcK2FhmPP&#43;KlJ4CvYwbyYD7tH&#43;uTkbT9bNJr9eJeQ0FoFbAgz" crossorigin="anonymous"
  ></script>


      
    
    
  </div>
</div>




  

  
  
  
  
  
  
  <script
    src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js"
    
    async
    
    
    integrity="sha384-0M75wtSkhjIInv4coYlaJU83&#43;OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id&#43;S" crossorigin="anonymous"
  ></script>





  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then((registrations) => {
        for (let registration of registrations) {
          registration.unregister();
        }
      });
    }
  </script>


<script>
  const reimuCopyright = String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;
  console.log(String.raw`%c ${reimuCopyright}`, "color: #ff5252;");
  console.log(
    "%c Theme.Reimu" + " %c https://github.com/D-Sketon/hugo-theme-reimu ",
    "color: white; background: #ff5252; padding:5px 0;",
    "padding:4px;border:1px solid #ff5252;",
  );
</script>




  </body>
</html>
